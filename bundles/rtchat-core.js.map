{"version":3,"file":"rtchat-core.js","sources":["../src/config/defaults.js","../src/utils/object-utils.js","../src/config/rtc-config.js","../src/storage/storage-adapter.js","../src/storage/local-storage-adapter.js","../src/storage/memory-adapter.js","../src/utils/event-emitter.js","../src/utils/deferred-promise.js","../src/core/tab-manager.js","../src/core/mqtt-loader.js","../src/core/mqtt-rtc-client.js","../src/crypto/keys.js","../src/core/signed-client.js","../src/core/call-state.js","../src/core/call-manager.js","../src/core/chat-manager.js","../src/core/rtc-video-chat.js","../src/core/interfaces/chat-ui-interface.js","../src/core/interfaces/call-ui-interface.js","../src/core/interfaces/stream-display-interface.js","../src/core/interfaces/audio-controller-interface.js","../src/core/interfaces/video-controller-interface.js","../src/core/interfaces/video-interface.js","../src/core/interfaces/ringer-interface.js","../src/core/interfaces/notification-interface.js","../src/core/interfaces/storage-interface.js","../src/core/interfaces/ui-config-interface.js","../src/core/plugin-adapter.js","../src/core/state-manager.js"],"sourcesContent":["/**\n * Default Configuration Values for RTChat\n * \n * This file contains all default configuration values with detailed documentation.\n * These defaults are used when creating an RTCConfig instance.\n */\n\n/**\n * Get the default configuration object\n * @returns {Object} Default configuration object\n */\nexport function getDefaults() {\n  return {\n    // ============================================================================\n    // IDENTITY CONFIGURATION\n    // ============================================================================\n    \n    /**\n     * User's display name\n     * - If null, will be auto-generated or loaded from storage\n     * - Auto-generated format: \"User #123\"\n     * - Saved to storage for persistence (unless starts with \"anon\" or \"User #\")\n     * - Cannot contain: (, ), |, or leading/trailing spaces\n     */\n    name: null,\n    \n    /**\n     * Additional user information to share with peers\n     * - Sent during connection handshake\n     * - Can include publicKeyString, custom metadata, etc.\n     * - Used by peers to make connection decisions\n     */\n    userInfo: {},\n    \n    // ============================================================================\n    // MQTT CONFIGURATION\n    // ============================================================================\n    \n    mqtt: {\n      /**\n       * MQTT broker WebSocket URL\n       * - Used for signaling (connection establishment)\n       * - Format: wss://[username]:[password]@[host]:[port]\n       * - Default: Public cloud.shiftr.io broker (no auth required)\n       * - Only used briefly for signaling, then direct WebRTC takes over\n       */\n      broker: 'wss://public:public@public.cloud.shiftr.io',\n      \n      /**\n       * MQTT client ID\n       * - Unique identifier for this MQTT connection\n       * - If null, auto-generated as: baseTopic + name\n       * - Should be unique to avoid connection conflicts\n       */\n      clientId: null,\n      \n      /**\n       * MQTT username (if broker requires authentication)\n       * - Used for authenticated MQTT brokers\n       * - Can also be included in broker URL\n       */\n      username: null,\n      \n      /**\n       * MQTT password (if broker requires authentication)\n       * - Used for authenticated MQTT brokers\n       * - Can also be included in broker URL\n       */\n      password: null,\n      \n      /**\n       * Reconnection delay in milliseconds\n       * - How long to wait before attempting to reconnect to MQTT broker\n       * - Used when connection is lost\n       */\n      reconnectPeriod: 1000,\n      \n      /**\n       * Connection timeout in milliseconds\n       * - Maximum time to wait for MQTT connection to establish\n       * - Throws error if connection not established within this time\n       */\n      connectTimeout: 30000\n    },\n    \n    // ============================================================================\n    // WEBRTC CONFIGURATION\n    // ============================================================================\n    \n    webrtc: {\n      /**\n       * ICE (Interactive Connectivity Establishment) servers\n       * - Array of STUN/TURN servers for NAT traversal\n       * - STUN: Discovers public IP/port (free, public servers available)\n       * - TURN: Relays traffic if direct connection fails (usually requires credentials)\n       * - Format: [{ urls: 'stun:server:port' }, { urls: 'turn:server:port', username: 'user', credential: 'pass' }]\n       * - Multiple servers provide redundancy and better connection success\n       * - Default: Multiple Google STUN servers for reliability\n       */\n      iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n        { urls: 'stun:stun2.l.google.com:19302' },\n        { urls: 'stun:stun3.l.google.com:19302' },\n        { urls: 'stun:stun4.l.google.com:19302' }\n      ],\n      \n      /**\n       * ICE transport policy\n       * - 'all': Try both STUN and TURN servers (recommended)\n       * - 'relay': Only use TURN servers (more expensive, but works behind strict firewalls)\n       * - Use 'relay' if you have TURN servers and want to ensure connectivity\n       */\n      iceTransportPolicy: 'all',\n      \n      /**\n       * Bundle policy for RTP streams\n       * - 'balanced': Balance between compatibility and performance (recommended)\n       * - 'max-compat': Maximum compatibility (may use more bandwidth)\n       * - 'max-bundle': Maximum bundling (better performance, less compatibility)\n       */\n      bundlePolicy: 'balanced',\n      \n      /**\n       * RTCP muxing policy\n       * - 'require': Require RTCP muxing (recommended, more efficient)\n       * - 'negotiate': Allow non-muxed RTCP (for compatibility with older implementations)\n       */\n      rtcpMuxPolicy: 'require'\n    },\n    \n    // ============================================================================\n    // TOPIC/ROOM CONFIGURATION\n    // ============================================================================\n    \n    topic: {\n      /**\n       * Base topic prefix for MQTT\n       * - All messages are published to: baseTopic + separator + room\n       * - Used to namespace different applications/instances\n       * - Default: 'mrtchat'\n       */\n      base: 'mrtchat',\n      \n      /**\n       * Room/channel identifier\n       * - If null, auto-detected from URL (hostname + pathname)\n       * - Users in the same room can discover and connect to each other\n       * - Can be any string (sanitized to alphanumeric)\n       * - Examples: 'lobby', 'game-room-1', 'private-chat'\n       */\n      room: null,\n      \n      /**\n       * Separator between base topic and room\n       * - Used when constructing full topic: base + separator + room\n       * - Default: '/'\n       * - Example: 'mrtchat/lobby'\n       */\n      separator: '/'\n    },\n    \n    // ============================================================================\n    // DEPENDENCY INJECTION\n    // ============================================================================\n    \n    /**\n     * Storage adapter instance\n     * - If null, uses LocalStorageAdapter (browser) or falls back to memory\n     * - Allows swapping storage implementations for testing or custom storage\n     * - Must implement: getItem(key), setItem(key, value), removeItem(key)\n     * - See: src/storage/storage-adapter.js\n     */\n    storage: null,\n    \n    /**\n     * Crypto API instance\n     * - If null, uses window.crypto (browser Web Crypto API)\n     * - Allows injecting mock crypto for testing\n     * - Must implement: subtle.generateKey(), subtle.sign(), subtle.verify()\n     */\n    crypto: null,\n    \n    /**\n     * MQTT library instance\n     * - If null, auto-loads from CDN (mqtt.js)\n     * - Allows injecting custom MQTT library or pre-loaded instance\n     * - Must implement: connect(url, options), on('connect'), on('message'), publish()\n     */\n    mqttLibrary: null,\n    \n    // ============================================================================\n    // COMPRESSION CONFIGURATION\n    // ============================================================================\n    \n    compression: {\n      /**\n       * Enable message compression\n       * - Reduces bandwidth usage for large messages\n       * - Uses LZ-String by default\n       * - Only compresses messages above threshold\n       */\n      enabled: true,\n      \n      /**\n       * Compression library to use\n       * - 'lz-string': LZ-String (default, good balance)\n       * - 'pako': Pako (zlib, better compression, larger library)\n       * - 'none': No compression\n       */\n      library: 'lz-string',\n      \n      /**\n       * Minimum message size to compress (in bytes)\n       * - Messages smaller than this are sent uncompressed\n       * - Compression has overhead, so small messages aren't worth compressing\n       * - Default: 100 bytes\n       */\n      threshold: 100\n    },\n    \n    // ============================================================================\n    // CONNECTION BEHAVIOR\n    // ============================================================================\n    \n    connection: {\n      /**\n       * Automatically connect to MQTT on client creation\n       * - If false, must call client.load() manually\n       * - Useful for delayed connection or testing\n       */\n      autoConnect: true,\n      \n      /**\n       * Automatically reconnect if connection is lost\n       * - Attempts to reconnect with exponential backoff\n       * - Set to false to handle reconnection manually\n       */\n      autoReconnect: true,\n      \n      /**\n       * Maximum number of reconnection attempts\n       * - Infinity: Keep trying forever (default)\n       * - Number: Stop after N attempts\n       * - Useful for limiting reconnection attempts\n       */\n      maxReconnectAttempts: Infinity,\n      \n      /**\n       * Delay between reconnection attempts (milliseconds)\n       * - Initial delay before first reconnection attempt\n       * - May increase with exponential backoff\n       */\n      reconnectDelay: 1000,\n      \n      /**\n       * Connection timeout (milliseconds)\n       * - Maximum time to wait for initial connection\n       * - Throws error if not connected within this time\n       */\n      connectionTimeout: 30000,\n      \n      /**\n       * Automatically accept all peer connection requests\n       * - If true, bypasses connection prompts and accepts all requests\n       * - Only applies to SignedMQTTRTCClient (MQTTRTCClient always auto-accepts)\n       * - When false, prompts user based on trust levels\n       * - Useful for testing, public demos, or trusted environments\n       */\n      autoAcceptConnections: false\n    },\n    \n    // ============================================================================\n    // HISTORY/LOGGING\n    // ============================================================================\n    \n    history: {\n      /**\n       * Enable message history tracking\n       * - Tracks all MQTT messages sent/received\n       * - Useful for debugging and message replay\n       * - Disable to save memory in production\n       */\n      enabled: true,\n      \n      /**\n       * Maximum number of messages to keep in history\n       * - Older messages are removed when limit is reached\n       * - Set to 0 to disable history (saves memory)\n       * - Default: 1000 messages\n       */\n      maxLength: 1000\n    },\n    \n    // ============================================================================\n    // TAB MANAGEMENT\n    // ============================================================================\n    \n    tabs: {\n      /**\n       * Enable multi-tab management\n       * - Tracks multiple browser tabs/windows for the same session\n       * - Adds tab ID to username to distinguish tabs\n       * - Disable if you don't need multi-tab support\n       */\n      enabled: true,\n      \n      /**\n       * Polling interval for tab keep-alive (milliseconds)\n       * - How often to update the \"last seen\" timestamp\n       * - Lower values = more responsive, but more storage writes\n       * - Default: 250ms\n       */\n      pollInterval: 250,\n      \n      /**\n       * Tab timeout (seconds)\n       * - Tabs not seen for this long are considered closed\n       * - Used to clean up stale tab entries\n       * - Default: 300 seconds (5 minutes)\n       */\n      timeout: 300\n    },\n    \n    // ============================================================================\n    // DEBUG/LOGGING\n    // ============================================================================\n    \n    /**\n     * Enable debug logging\n     * - Logs detailed information about connections, messages, etc.\n     * - Useful for development and troubleshooting\n     * - Disable in production for better performance\n     */\n    debug: false,\n    \n    /**\n     * Custom logger function\n     * - If provided, used instead of console.log/error\n     * - Signature: (level: string, message: string, ...args: any[]) => void\n     * - Allows integration with custom logging systems\n     * - If null, uses console methods\n     */\n    logger: null,\n    \n    // ============================================================================\n    // CONNECTION LOADING\n    // ============================================================================\n    \n    /**\n     * Auto-load flag\n     * - If false, client won't automatically connect\n     * - Must call client.load() manually\n     * - Default: true (auto-connect)\n     */\n    load: true\n  };\n}\n\n","/**\n * Object Utilities - Helper functions for object manipulation\n * \n * Provides utilities for deep merging objects and type checking.\n */\n\n/**\n * Check if a value is a plain object (not array, null, or other types)\n * @param {*} item - Value to check\n * @returns {boolean} True if item is a plain object\n */\nexport function isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n\n/**\n * Deep merge two objects recursively\n * \n * Merges source into target, creating a new object. Nested objects are merged\n * recursively rather than being replaced entirely.\n * \n * @param {Object} target - Target object to merge into\n * @param {Object} source - Source object to merge from\n * @returns {Object} New merged object (target is not modified)\n * \n * @example\n * const merged = deepMerge({ a: 1, b: { c: 2 } }, { b: { d: 3 }, e: 4 });\n * // Result: { a: 1, b: { c: 2, d: 3 }, e: 4 }\n */\nexport function deepMerge(target, source) {\n  const output = { ...target };\n  \n  if (isObject(target) && isObject(source)) {\n    Object.keys(source).forEach(key => {\n      if (isObject(source[key])) {\n        if (!(key in target)) {\n          Object.assign(output, { [key]: source[key] });\n        } else {\n          output[key] = deepMerge(target[key], source[key]);\n        }\n      } else {\n        Object.assign(output, { [key]: source[key] });\n      }\n    });\n  }\n  \n  return output;\n}\n\n","/**\n * RTCConfig - Configuration management for RTChat\n * \n * Centralized configuration system with validation, normalization, and presets.\n * Uses nested configuration format with validation and presets.\n */\n\nimport { getDefaults } from './defaults.js';\nimport { deepMerge } from '../utils/object-utils.js';\n\nexport class RTCConfig {\n  // Static defaults object - single source of truth\n  static getDefaults() {\n    return getDefaults();\n  }\n  \n  constructor(userConfig = {}) {\n    // Normalize user config (handle common string formats)\n    const normalized = this.normalizeUserConfig(userConfig);\n    \n    // Get defaults from separate file and merge with user config\n    const defaults = getDefaults();\n    this.config = deepMerge(defaults, normalized);\n    \n    // Apply computed defaults (functions that need instance context)\n    this.applyComputedDefaults();\n    \n    // Validate configuration\n    this.validate();\n    \n    // Normalize values (e.g., convert single STUN to array)\n    this.normalize();\n  }\n  \n  normalizeUserConfig(userConfig) {\n    const normalized = { ...userConfig };\n    \n    // Handle topic as string -> topic.room\n    if (typeof userConfig.topic === 'string') {\n      normalized.topic = { room: userConfig.topic };\n    }\n    \n    return normalized;\n  }\n  \n  applyComputedDefaults() {\n    // Apply defaults that require instance methods (only for dynamic values that can't be in static defaults)\n    // These are values that depend on runtime context (localStorage, window.location, etc.)\n    if (!this.config.name) {\n      this.config.name = this.getDefaultName();\n    }\n    \n    if (!this.config.topic.room) {\n      this.config.topic.room = this.getDefaultRoom();\n    }\n    \n    // iceServers is now in the defaults dictionary, so deepMerge will handle it automatically\n    // Only need to handle explicit null/empty array cases\n    if (this.config.webrtc.iceServers === null || \n        (Array.isArray(this.config.webrtc.iceServers) && this.config.webrtc.iceServers.length === 0)) {\n      // User explicitly wants to use defaults, copy from defaults\n      this.config.webrtc.iceServers = [...getDefaults().webrtc.iceServers];\n    }\n  }\n  \n  getDefaultName() {\n    // Try localStorage, then generate\n    if (typeof window !== 'undefined' && window.localStorage) {\n      try {\n        const stored = localStorage.getItem('rtchat_name') || localStorage.getItem('name');\n        if (stored && !stored.startsWith('anon')) {\n          return stored;\n        }\n      } catch (e) {\n        // localStorage might not be available\n      }\n    }\n    return `User #${Math.floor(Math.random() * 1000)}`;\n  }\n  \n  getDefaultRoom() {\n    // Auto-detect from URL if in browser\n    if (typeof window !== 'undefined' && window.location) {\n      const hostname = window.location.hostname;\n      const pathname = window.location.pathname\n        .replace(/rtchat\\/?/, '')\n        .replace(/index\\.html$/, '')\n        .replace(/\\.html$/, '')\n        .replace(/[^a-zA-Z0-9]/g, '');\n      \n      // Skip localhost/127.0.0.1 for room name\n      if (!['localhost', '127.0.0.1'].includes(hostname)) {\n        return hostname + pathname;\n      }\n      return pathname || 'default';\n    }\n    return 'default';\n  }\n  \n  validate() {\n    // Validate name\n    if (this.config.name) {\n      if (this.config.name.includes('(') || this.config.name.includes(')') || this.config.name.includes('|')) {\n        throw new Error('Name cannot contain (, ), or |');\n      }\n      if (this.config.name !== this.config.name.trim()) {\n        throw new Error('Name cannot have leading or trailing spaces');\n      }\n    }\n    \n    // Validate MQTT broker URL\n    if (this.config.mqtt.broker) {\n      try {\n        new URL(this.config.mqtt.broker);\n      } catch (e) {\n        throw new Error(`Invalid MQTT broker URL: ${this.config.mqtt.broker}`);\n      }\n    }\n    \n    // Validate ICE servers\n    if (this.config.webrtc.iceServers) {\n      if (!Array.isArray(this.config.webrtc.iceServers)) {\n        // Will be normalized to array, but check if it's a valid string\n        if (typeof this.config.webrtc.iceServers !== 'string') {\n          throw new Error('iceServers must be an array or string');\n        }\n      }\n    }\n  }\n  \n  normalize() {\n    // Ensure ICE servers is always an array\n    if (!Array.isArray(this.config.webrtc.iceServers)) {\n      const server = this.config.webrtc.iceServers;\n      if (typeof server === 'string') {\n        this.config.webrtc.iceServers = [{ urls: server }];\n      } else if (server && server.urls) {\n        this.config.webrtc.iceServers = [server];\n      } else {\n        // Use defaults from defaults file\n        this.config.webrtc.iceServers = [...getDefaults().webrtc.iceServers];\n      }\n    }\n    \n    // Convert string URLs to object format\n    this.config.webrtc.iceServers = this.config.webrtc.iceServers.map(server => {\n      if (typeof server === 'string') {\n        return { urls: server };\n      }\n      return server;\n    });\n    \n    // Ensure topic separator is applied correctly\n    if (this.config.topic.separator && !this.config.topic.room.includes(this.config.topic.separator)) {\n      // Separator will be used when constructing full topic\n    }\n  }\n  \n  // Getters for easy access\n  get name() { return this.config.name; }\n  get broker() { return this.config.mqtt.broker; }\n  get iceServers() { return this.config.webrtc.iceServers; }\n  get topic() { \n    const sep = this.config.topic.separator || '/';\n    return `${this.config.topic.base}${sep}${this.config.topic.room}`;\n  }\n  get baseTopic() { return this.config.topic.base; }\n  get room() { return this.config.topic.room; }\n  \n  // Get full config object\n  getConfig() {\n    return this.config;\n  }\n  \n  // Update specific config values\n  update(updates) {\n    const normalized = this.normalizeUserConfig(updates);\n    this.config = deepMerge(this.config, normalized);\n    this.applyComputedDefaults();\n    this.validate();\n    this.normalize();\n  }\n}\n\n// Preset configurations\nexport const ConfigPresets = {\n  // Default - balanced for most use cases\n  default: () => new RTCConfig({}),\n  \n  // High performance - multiple STUN servers, optimized settings\n  performance: () => new RTCConfig({\n    webrtc: {\n      iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n        { urls: 'stun:stun2.l.google.com:19302' },\n        { urls: 'stun:stun3.l.google.com:19302' },\n        { urls: 'stun:stun4.l.google.com:19302' }\n      ],\n      iceTransportPolicy: 'all'\n    },\n    connection: {\n      autoReconnect: true,\n      reconnectDelay: 500\n    }\n  }),\n  \n  // Privacy-focused - custom STUN/TURN servers\n  privacy: (customServers) => new RTCConfig({\n    webrtc: {\n      iceServers: customServers || [\n        // User should provide their own servers\n        { urls: 'stun:stun.l.google.com:19302' }\n      ]\n    }\n  }),\n  \n  // Development - local MQTT broker\n  development: (localBroker = 'ws://localhost:1883') => new RTCConfig({\n    mqtt: {\n      broker: localBroker\n    },\n    debug: true\n  }),\n  \n  // Production - optimized for production use\n  production: () => new RTCConfig({\n    compression: { enabled: true },\n    history: { maxLength: 500 },\n    connection: {\n      autoReconnect: true,\n      maxReconnectAttempts: 10\n    },\n    debug: false\n  })\n};\n\n","/**\n * Storage Adapter - Abstract base class for storage operations\n * \n * This is an abstract class that must be extended. It defines the interface\n * for storage operations, allowing swapping between localStorage, memory storage,\n * or custom implementations for better testability and flexibility.\n * \n * @abstract\n * @class StorageAdapter\n * \n * @example\n * // Extend this class to create a custom storage adapter\n * class MyStorageAdapter extends StorageAdapter {\n *   constructor() {\n *     super(); // Required\n *     // Initialize your storage\n *   }\n *   \n *   getItem(key) {\n *     // Implement getItem\n *   }\n *   \n *   // ... implement other methods\n * }\n */\nexport class StorageAdapter {\n  constructor() {\n    // Prevent direct instantiation of abstract class\n    if (this.constructor === StorageAdapter) {\n      throw new Error('StorageAdapter is an abstract class and cannot be instantiated directly. Extend it instead.');\n    }\n  }\n  \n  /**\n   * Get an item from storage by key\n   * @abstract\n   * @param {string} key - The key to retrieve\n   * @returns {string|null} The value associated with the key, or null if not found\n   */\n  getItem(key) {\n    throw new Error('getItem must be implemented by subclass');\n  }\n  \n  /**\n   * Set an item in storage\n   * @abstract\n   * @param {string} key - The key to store\n   * @param {string} value - The value to store\n   */\n  setItem(key, value) {\n    throw new Error('setItem must be implemented by subclass');\n  }\n  \n  /**\n   * Remove an item from storage\n   * @abstract\n   * @param {string} key - The key to remove\n   */\n  removeItem(key) {\n    throw new Error('removeItem must be implemented by subclass');\n  }\n  \n  /**\n   * Clear all items from storage\n   * @abstract\n   */\n  clear() {\n    throw new Error('clear must be implemented by subclass');\n  }\n  \n  /**\n   * Get the key at the specified index\n   * @abstract\n   * @param {number} index - The index of the key to retrieve\n   * @returns {string|null} The key at the index, or null if not found\n   */\n  key(index) {\n    throw new Error('key must be implemented by subclass');\n  }\n  \n  /**\n   * Get the number of items in storage\n   * @abstract\n   * @returns {number} The number of items\n   */\n  get length() {\n    throw new Error('length must be implemented by subclass');\n  }\n}\n\n","/**\n * LocalStorage Adapter - Browser localStorage implementation\n */\n\nimport { StorageAdapter } from './storage-adapter.js';\n\nexport class LocalStorageAdapter extends StorageAdapter {\n  constructor() {\n    super();\n    if (typeof window === 'undefined' || !window.localStorage) {\n      throw new Error('localStorage is not available in this environment');\n    }\n    this.storage = window.localStorage;\n  }\n  \n  getItem(key) {\n    try {\n      return this.storage.getItem(key);\n    } catch (e) {\n      console.warn('localStorage.getItem failed:', e);\n      return null;\n    }\n  }\n  \n  setItem(key, value) {\n    try {\n      this.storage.setItem(key, value);\n    } catch (e) {\n      console.warn('localStorage.setItem failed:', e);\n      // Handle quota exceeded or other errors\n      if (e.name === 'QuotaExceededError') {\n        throw new Error('Storage quota exceeded');\n      }\n    }\n  }\n  \n  removeItem(key) {\n    try {\n      this.storage.removeItem(key);\n    } catch (e) {\n      console.warn('localStorage.removeItem failed:', e);\n    }\n  }\n  \n  clear() {\n    try {\n      this.storage.clear();\n    } catch (e) {\n      console.warn('localStorage.clear failed:', e);\n    }\n  }\n  \n  key(index) {\n    try {\n      return this.storage.key(index);\n    } catch (e) {\n      console.warn('localStorage.key failed:', e);\n      return null;\n    }\n  }\n  \n  get length() {\n    try {\n      return this.storage.length;\n    } catch (e) {\n      return 0;\n    }\n  }\n}\n\n","/**\n * Memory Storage Adapter - In-memory storage for testing or server-side use\n */\n\nimport { StorageAdapter } from './storage-adapter.js';\n\nexport class MemoryAdapter extends StorageAdapter {\n  constructor() {\n    super();\n    this.data = {};\n  }\n  \n  getItem(key) {\n    return this.data[key] || null;\n  }\n  \n  setItem(key, value) {\n    this.data[key] = String(value);\n  }\n  \n  removeItem(key) {\n    delete this.data[key];\n  }\n  \n  clear() {\n    this.data = {};\n  }\n  \n  key(index) {\n    const keys = Object.keys(this.data);\n    return keys[index] || null;\n  }\n  \n  get length() {\n    return Object.keys(this.data).length;\n  }\n}\n\n","/**\n * EventEmitter - Simple event system for RTChat\n * \n * Provides on, off, emit methods for event-driven architecture\n */\n\nexport class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  \n  on(event, handler) {\n    if (typeof handler !== 'function') {\n      throw new Error('Handler must be a function');\n    }\n    if (!this.events[event]) {\n      this.events[event] = [];\n    }\n    this.events[event].push(handler);\n    \n    // Return unsubscribe function\n    return () => this.off(event, handler);\n  }\n  \n  off(event, handler) {\n    if (!this.events[event]) {\n      return;\n    }\n    this.events[event] = this.events[event].filter(h => h !== handler);\n  }\n  \n  emit(event, ...args) {\n    if (!this.events[event]) {\n      return;\n    }\n    // Create a copy to avoid issues if handlers modify the array\n    const handlers = [...this.events[event]];\n    handlers.forEach(handler => {\n      try {\n        handler(...args);\n      } catch (e) {\n        console.error(`Error in event handler for ${event}:`, e);\n      }\n    });\n  }\n  \n  once(event, handler) {\n    const wrappedHandler = (...args) => {\n      handler(...args);\n      this.off(event, wrappedHandler);\n    };\n    return this.on(event, wrappedHandler);\n  }\n  \n  removeAllListeners(event) {\n    if (event) {\n      delete this.events[event];\n    } else {\n      this.events = {};\n    }\n  }\n  \n  listenerCount(event) {\n    return this.events[event] ? this.events[event].length : 0;\n  }\n}\n\n","/**\n * DeferredPromise - Promise that can be resolved/rejected externally\n */\n\nexport class DeferredPromise {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n}\n\n","/**\n * Tab Manager - Manages multiple tabs/windows for the same session\n * \n * Uses storage adapter to track active tabs and assign unique IDs\n */\n\nexport class TabManager {\n  constructor(storage, config) {\n    this.storage = storage;\n    this.config = config;\n    this.tabID = null;\n    this.interval = null;\n    this.initialize();\n  }\n  \n  initialize() {\n    if (!this.config.tabs.enabled) {\n      this.tabID = null;\n      return;\n    }\n    \n    // Find the id of all the tabs open\n    let existingTabs = JSON.parse(this.storage.getItem('tabs') || '[]');\n    \n    const timeNow = Date.now();\n    const timeout = this.config.tabs.timeout * 1000; // Convert to milliseconds\n    \n    // Clean up stale tabs\n    for (let existingTabID of existingTabs) {\n      const ts = this.storage.getItem(\"tabpoll_\" + existingTabID);\n      if (ts) {\n        const lastUpdateTime = new Date(1 * ts);\n        if ((lastUpdateTime == \"Invalid Date\") || ((timeNow - lastUpdateTime) > timeout)) {\n          this.storage.removeItem(\"tabpoll_\" + existingTabID);\n          existingTabs = existingTabs.filter(v => v !== existingTabID);\n          this.storage.setItem('tabs', JSON.stringify(existingTabs));\n        }\n      } else {\n        this.storage.removeItem(\"tabpoll_\" + existingTabID);\n        existingTabs = existingTabs.filter(v => v !== existingTabID);\n        this.storage.setItem('tabs', JSON.stringify(existingTabs));\n      }\n    }\n    \n    existingTabs = JSON.parse(this.storage.getItem('tabs') || '[]');\n    \n    const maxTabID = existingTabs.length ? (Math.max(...existingTabs)) : -1;\n    const minTabID = existingTabs.length ? (Math.min(...existingTabs)) : -1;\n    this.tabID = (minTabID < 10) ? (maxTabID + 1) : 0;\n    existingTabs.push(this.tabID);\n    this.storage.setItem('tabs', JSON.stringify(existingTabs));\n    \n    // Start polling to keep tab alive\n    this.storage.setItem(\"tabpoll_\" + this.tabID, Date.now().toString());\n    this.interval = setInterval(() => {\n      this.storage.setItem(\"tabpoll_\" + this.tabID, Date.now().toString());\n    }, this.config.tabs.pollInterval);\n    \n    if (this.config.debug) {\n      console.log(\"Tab ID: \", this.tabID);\n    }\n  }\n  \n  getTabID() {\n    return this.tabID;\n  }\n  \n  cleanup() {\n    if (this.interval) {\n      clearInterval(this.interval);\n      this.interval = null;\n    }\n    \n    if (this.tabID !== null) {\n      let existingTabs = JSON.parse(this.storage.getItem('tabs') || '[]');\n      existingTabs = existingTabs.filter(v => v !== this.tabID);\n      this.storage.setItem('tabs', JSON.stringify(existingTabs));\n      this.storage.removeItem(\"tabpoll_\" + this.tabID);\n    }\n  }\n}\n\n","/**\n * MQTT Library Loader - Handles loading MQTT and compression libraries\n */\n\nexport class MQTTLoader {\n  constructor(config) {\n    this.config = config;\n    this.mqtt = null;\n    this.compression = null;\n    this.loading = false;\n  }\n  \n  async load() {\n    if (this.loading) {\n      return this.waitForLoad();\n    }\n    \n    this.loading = true;\n    \n    // If mqttLibrary is provided, use it\n    if (this.config.mqttLibrary) {\n      this.mqtt = this.config.mqttLibrary;\n      this.loading = false;\n      return this.mqtt;\n    }\n    \n    // Otherwise, try to load from global or CDN\n    if (typeof window !== 'undefined') {\n      // Check if already loaded\n      if (window.mqtt) {\n        this.mqtt = window.mqtt;\n        this.loading = false;\n        return this.mqtt;\n      }\n      \n      // Load from CDN\n      return this.loadFromCDN();\n    }\n    \n    throw new Error('MQTT library not available and cannot be loaded');\n  }\n  \n  loadFromCDN() {\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src = \"https://unpkg.com/mqtt/dist/mqtt.min.js\";\n      script.onload = () => {\n        if (window.mqtt) {\n          this.mqtt = window.mqtt;\n          this.loadCompression().then(() => {\n            this.loading = false;\n            resolve(this.mqtt);\n          });\n        } else {\n          this.loading = false;\n          reject(new Error('MQTT library failed to load'));\n        }\n      };\n      script.onerror = () => {\n        this.loading = false;\n        reject(new Error('Failed to load MQTT library from CDN'));\n      };\n      document.head.appendChild(script);\n    });\n  }\n  \n  async loadCompression() {\n    if (!this.config.compression.enabled) {\n      return;\n    }\n    \n    const library = this.config.compression.library;\n    \n    if (library === 'lz-string') {\n      if (window.LZString) {\n        this.compression = window.LZString;\n        return;\n      }\n      \n      return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        script.src = \"https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js\";\n        script.onload = () => {\n          if (window.LZString) {\n            this.compression = window.LZString;\n            resolve();\n          } else {\n            reject(new Error('LZ-String library failed to load'));\n          }\n        };\n        script.onerror = () => {\n          reject(new Error('Failed to load LZ-String library'));\n        };\n        document.head.appendChild(script);\n      });\n    }\n  }\n  \n  getMQTT() {\n    return this.mqtt;\n  }\n  \n  getCompression() {\n    return this.compression;\n  }\n  \n  compress(data) {\n    if (!this.compression || !this.config.compression.enabled) {\n      return data;\n    }\n    \n    const str = typeof data === 'string' ? data : JSON.stringify(data);\n    if (str.length < this.config.compression.threshold) {\n      return data;\n    }\n    \n    if (this.compression.compressToUint8Array) {\n      return this.compression.compressToUint8Array(str);\n    }\n    return data;\n  }\n  \n  decompress(data) {\n    if (!this.compression || !this.config.compression.enabled) {\n      return data;\n    }\n    \n    if (this.compression.decompressFromUint8Array) {\n      return this.compression.decompressFromUint8Array(data);\n    }\n    return data;\n  }\n  \n  waitForLoad() {\n    return new Promise((resolve) => {\n      const checkInterval = setInterval(() => {\n        if (!this.loading && this.mqtt) {\n          clearInterval(checkInterval);\n          resolve(this.mqtt);\n        }\n      }, 100);\n    });\n  }\n}\n\n","/**\n * MQTT-RTC Client Library - Core peer-to-peer communication system\n * \n * This module provides a complete implementation for establishing peer-to-peer connections\n * using MQTT for signaling and WebRTC for direct communication. It handles connection\n * management, data channels, video/audio calls, and message passing.\n * \n * Architecture:\n * - BaseMQTTRTCClient: Base class with MQTT and WebRTC connection logic\n * - PromisefulMQTTRTCClient: Adds promise-based APIs for async operations\n * - MQTTRTCClient: High-level client with event callbacks and peer management\n * - RTCConnection: Manages individual WebRTC peer connections\n * - Peer: Convenience wrapper for interacting with a specific peer\n * \n * Usage:\n *   import { MQTTRTCClient } from './mqtt-rtc.js';\n *   \n *   const client = new MQTTRTCClient({\n *     name: 'MyName',\n *     topic: 'myroom',\n *     broker: 'wss://broker.example.com',\n *     stunServer: 'stun:stun.example.com:19302'\n *   });\n * \n *   client.on('connectedtopeer', (user) => {\n *     console.log('Connected to', user);\n *   });\n * \n *   client.on('chat', (message, sender) => {\n *     console.log(`${sender}: ${message}`);\n *   });\n * \n *   // Send a message to all connected peers\n *   client.sendRTCChat('Hello everyone!');\n * \n *   // Get a peer object for direct interaction\n *   const peer = client.getPeer('OtherUser');\n *   peer.dm('Private message');\n *   peer.ask('What is 2+2?').then(answer => console.log(answer));\n * \n * Features:\n * - Automatic connection establishment via MQTT signaling\n * - WebRTC data channels for messaging\n * - Video/audio calling support\n * - Question/answer system for RPC-like communication\n * - Ping/pong for connection health checks\n * - Tab ID management for multiple tabs\n * - Message compression using LZ-String\n * - Connection history tracking\n * \n * Configuration:\n * - broker: MQTT broker URL (default: public cloud.shiftr.io)\n * - stunServer: STUN server for NAT traversal (default: Google STUN)\n * - baseTopic: Base MQTT topic prefix (default: 'mrtchat')\n * - topic: Room/channel identifier (auto-derived from URL by default)\n * - name: User identifier (auto-generated if not provided)\n * \n * @module mqtt-rtc\n */\n\n// Import new refactored modules\nimport { RTCConfig } from '../config/rtc-config.js';\nimport { LocalStorageAdapter } from '../storage/local-storage-adapter.js';\nimport { TabManager } from './tab-manager.js';\nimport { MQTTLoader } from './mqtt-loader.js';\nimport { EventEmitter } from '../utils/event-emitter.js';\nimport { DeferredPromise } from '../utils/deferred-promise.js';\n\n\n\n//______________________________________________________________________________________________________________________\n\n\n\n// EventEmitter is now imported above\n\nclass BaseMQTTRTCClient extends EventEmitter {\n  constructor(userConfig){\n    super(); // Initialize EventEmitter\n    userConfig = userConfig || {};\n    \n    // Use RTCConfig system (always available now)\n    const config = userConfig instanceof RTCConfig ? userConfig : new RTCConfig(userConfig);\n    const configObj = config.getConfig();\n    \n    // Initialize storage adapter\n    const storage = userConfig.storage || new LocalStorageAdapter();\n    \n    // Initialize tab manager\n    let tabManager = null;\n    if (configObj.tabs.enabled) {\n      tabManager = new TabManager(storage, configObj);\n    }\n    \n    // Initialize MQTT loader\n    const mqttLoader = new MQTTLoader(configObj);\n    \n    // Set properties from config\n    const tabIDValue = tabManager ? tabManager.getTabID() : null;\n    this.name = configObj.name + (tabIDValue ? ('(' + tabIDValue + ')') : '');\n    this.userInfo = configObj.userInfo || {};\n    this.mqttBroker = configObj.mqtt.broker;\n    this.iceServers = configObj.webrtc.iceServers;\n    this.baseTopic = configObj.topic.base;\n    this.topic = config.topic;\n    this.config = config;\n    this.storage = storage;\n    this.tabManager = tabManager;\n    this.mqttLoader = mqttLoader;\n    this.maxHistoryLength = configObj.history.maxLength;\n    \n    // Save name to storage if not anonymous\n    if (!configObj.name.startsWith(\"anon\") && !configObj.name.startsWith(\"User #\")) {\n      storage.setItem(\"name\", configObj.name);\n      storage.setItem(\"rtchat_name\", configObj.name);\n    }\n    \n    // Load flag\n    const load = userConfig.load !== false;\n\n    // bind methods to this\n    // MQTT methods\n    this.load = this.load.bind(this);\n    this._onMQTTConnect = this._onMQTTConnect.bind(this);\n    this.onConnectedToMQTT = this.onConnectedToMQTT.bind(this);\n    this._onMQTTMessage = this._onMQTTMessage.bind(this);\n    this.onMQTTMessage = this.onMQTTMessage.bind(this);\n    this.beforeunload = this.beforeunload.bind(this);\n    this.postPubliclyToMQTTServer = this.postPubliclyToMQTTServer.bind(this);\n    for (let [k, v] of Object.entries(this.mqttHandlers)){\n        this.mqttHandlers[k] = v.bind(this);\n    }\n    this.changeName = this.changeName.bind(this);\n    this.recordNameChange = this.recordNameChange.bind(this);\n    this.onNameChange = this.onNameChange.bind(this);\n\n\n    // RTC connection methods\n    this.shouldConnectToUser = this.shouldConnectToUser.bind(this);\n    this.connectToUser = this.connectToUser.bind(this);\n    this.connectionToUser = this.connectionToUser.bind(this);\n    this.connectionsToUsers = this.connectionsToUsers.bind(this);\n    this.disconnectFromUser = this.disconnectFromUser.bind(this);\n    this.onConnectedToUser = this.onConnectedToUser.bind(this);\n    this.onDisconnectedFromUser = this.onDisconnectedFromUser.bind(this);\n    this.onrtcdisconnectedFromUser = this.onrtcdisconnectedFromUser.bind(this);\n\n    // RTC send/receive methods\n    this.callUser = this.callUser.bind(this);\n    this.callFromUser = this.callFromUser.bind(this);\n    this.acceptCallFromUser = this.acceptCallFromUser.bind(this);\n    this.oncallconnected = this.oncallconnected.bind(this);\n    this.isConnectedToUser = this.isConnectedToUser.bind(this);\n\n    this.sendOverRTC = this.sendOverRTC.bind(this);\n    this.onrtcmessage = this.onrtcmessage.bind(this);\n    this.onrtcerror = this.onrtcerror.bind(this);\n\n    // initialize state tracking variables\n    this.rtcConnections = {};\n    this.knownUsers = {};\n    this.pendingIceCandidates = {};\n\n\n    this.mqttHistory = [];\n    this.announceInterval = null; // For periodic announcements\n\n    // load the MQTT client\n    if (load){\n        this.load();\n    }\n    \n    // Optional window.rtc assignment (can be disabled via config)\n    const assignToWindow = userConfig.assignToWindow !== false;\n    \n    if (assignToWindow && typeof window !== 'undefined') {\n      if (window.rtc){\n        let old = window.rtc;\n        console.warn(\"RTC already exists. Saving old RTC object to window.rtc.old,\", old);\n        let oldName = old.name;\n        window.rtc = {\n            oldName: old,\n            name: this\n        }\n      }else{\n        window.rtc = this;\n      }\n    }\n  }\n  //________________________________________________________ MQTT BASICS _______________________________________________\n  async load(){\n    // Use MQTTLoader (always available now)\n    await this.mqttLoader.load();\n    const mqtt = this.mqttLoader.getMQTT();\n    if (!mqtt) {\n      throw new Error('MQTT library not available');\n    }\n    \n    const configObj = this.config.getConfig();\n    const clientId = configObj.mqtt?.clientId || (this.baseTopic + this.name);\n    const mqttOptions = {\n      clientId: clientId,\n      username: configObj.mqtt.username,\n      password: configObj.mqtt.password,\n      reconnectPeriod: configObj.mqtt.reconnectPeriod,\n      connectTimeout: configObj.mqtt.connectTimeout\n    };\n    \n    this.client = mqtt.connect(this.mqttBroker, mqttOptions);\n    this.client.on('connect', this._onMQTTConnect.bind(this));\n    this.client.on('message', this._onMQTTMessage.bind(this));\n    \n    if (typeof window !== 'undefined') {\n      window.addEventListener(\"beforeunload\", this.beforeunload.bind(this));\n    }\n  }\n  _onMQTTConnect(){\n    this.client.subscribe(this.topic, ((err)=>{\n    if (!err) {\n        console.log(\"subscribed to \", this.topic);\n        // Send initial connect message immediately after subscription is confirmed\n        // This ensures we announce our presence as soon as we're ready to receive messages\n        this.postPubliclyToMQTTServer(\"connect\", this.userInfo);\n        this.onConnectedToMQTT();\n        \n        // Also set up periodic announcements to catch any missed connections\n        // This handles race conditions when two users connect simultaneously\n        // Announce every 3 seconds for the first 15 seconds, then every 30 seconds\n        // Only announce if we don't have active connections (to reduce noise)\n        let announcementCount = 0;\n        this.announceInterval = setInterval(() => {\n          // Only send periodic announcements if we have no active connections\n          // This reduces unnecessary connect messages when already connected\n          const hasActiveConnections = Object.keys(this.rtcConnections).some(user => {\n            const conn = this.rtcConnections[user];\n            return conn && conn.peerConnection && \n                   (conn.peerConnection.connectionState === \"connected\" || \n                    conn.peerConnection.connectionState === \"completed\");\n          });\n          \n          // Only announce if no active connections (removed the \"announcementCount < 5\" condition)\n          if (!hasActiveConnections) {\n            this.postPubliclyToMQTTServer(\"connect\", this.userInfo);\n          }\n          \n          announcementCount++;\n          // After 5 announcements (15 seconds), switch to less frequent announcements\n          if (announcementCount >= 5 && this.announceInterval) {\n            clearInterval(this.announceInterval);\n            // Switch to less frequent announcements (every 30 seconds, only if no connections)\n            this.announceInterval = setInterval(() => {\n              const hasActiveConnections = Object.keys(this.rtcConnections).some(user => {\n                const conn = this.rtcConnections[user];\n                return conn && conn.peerConnection && \n                       (conn.peerConnection.connectionState === \"connected\" || \n                        conn.peerConnection.connectionState === \"completed\");\n              });\n              if (!hasActiveConnections) {\n                this.postPubliclyToMQTTServer(\"connect\", this.userInfo);\n              }\n            }, 30000);\n          }\n        }, 3000);\n    }else {\n        console.error(\"Error subscribing to \" + this.topic, err);\n    }\n    }).bind(this));\n\n\n  }\n    onConnectedToMQTT(){\n        console.log(\"Connected to MQTT: \" + this.topic + \" as \" + this.name);\n        this.emit('mqttconnected', this.topic, this.name);\n    }\n  _onMQTTMessage(t, payloadString){\n        if (t === this.topic){\n            let payload;\n            try{\n                // Use MQTTLoader for decompression\n                const decompressed = this.mqttLoader.decompress(payloadString);\n                payload = typeof decompressed === 'string' ? JSON.parse(decompressed) : decompressed;\n            }catch(e){\n                // Fallback to uncompressed if decompression fails\n                payload = JSON.parse(payloadString);\n            }\n            if (payload.sender === this.name){\n                return;\n            }\n            let subtopic = payload.subtopic;\n            payload.sent = false;\n            payload.receiveTimestamp = Date.now();\n            this.mqttHistory.push(payload);\n            while (this.mqttHistory.length > this.maxHistoryLength){\n                this.mqttHistory.shift();\n            }\n            // Log removed to reduce console noise\n            if (this.mqttHandlers[subtopic]){\n                this.mqttHandlers[subtopic](payload);\n            }else{\n                this.onMQTTMessage(subtopic, payload.data, payload.sender, payload.timestamp);\n                console.warn(\"Unhandled message: \" + subtopic, payload);\n            }\n        }\n    }\n  onMQTTMessage(subtopic, data, sender, timestamp){\n    console.log(\"Received message from \" + sender + \" on \" + subtopic, data);\n    this.emit('mqttmessage', subtopic, data, sender, timestamp);\n  }\n  beforeunload(){\n    this.postPubliclyToMQTTServer(\"unload\", \"disconnecting\");\n    \n    // Cleanup tab manager if using new system\n    if (this.tabManager) {\n      this.tabManager.cleanup();\n    }\n  }\n  \n  disconnect(){\n    // Cleanup connections\n    for (let user of Object.keys(this.rtcConnections)) {\n      this.disconnectFromUser(user);\n    }\n    \n    // Stop periodic announcements\n    if (this.announceInterval) {\n      clearInterval(this.announceInterval);\n      this.announceInterval = null;\n    }\n    \n    // Cleanup MQTT client\n    if (this.client) {\n      this.client.end();\n      this.client = null;\n    }\n    \n    // Cleanup tab manager\n    if (this.tabManager) {\n      this.tabManager.cleanup();\n    }\n  }\n  postPubliclyToMQTTServer(subtopic, data){\n    let payload = {\n        sender: this.name,\n        timestamp: Date.now(),\n        subtopic: subtopic,\n        data: data\n    }\n    let payloadString = JSON.stringify(payload);\n    let originalLength = payloadString.length;\n    \n    // Use MQTTLoader's compression if available\n    if (this.mqttLoader) {\n      const compressed = this.mqttLoader.compress(payloadString);\n      if (compressed !== payloadString) {\n        payloadString = compressed;\n      }\n    }\n    \n    // Reduce logging for frequent messages like ICE candidates\n    if (subtopic === \"RTCIceCandidate\") {\n      // Only log null candidates (end of ICE gathering) or log at debug level\n      if (!data || data === null) {\n        console.log(\"Sending message to \" + this.topic + \" subtopic \" + subtopic + \" (end of ICE gathering)\");\n      }\n      // Otherwise, ICE candidates are sent too frequently to log each one\n    } else {\n      console.log(\"Sending message to \" + this.topic + \" subtopic \" + subtopic, data);\n    }\n    this.client.publish(this.topic, payloadString);\n    payload.sent = true;\n    this.mqttHistory.push(payload);\n    while (this.mqttHistory.length > this.maxHistoryLength){\n        this.mqttHistory.shift();\n    }\n  }\n\n  //____________________________________________________________________________________________________________________\n  mqttHandlers = {\n    connect: payload => {//connection\n        // Log removed to reduce console noise\n        \n        // Check if we're already connected and the connection is healthy\n        const existingConnection = this.rtcConnections[payload.sender];\n        if (existingConnection) {\n            const connectionState = existingConnection.peerConnection.connectionState;\n            const iceConnectionState = existingConnection.peerConnection.iceConnectionState;\n            \n            // If connection is healthy, ignore this connect message (likely a periodic announcement)\n            if (connectionState === \"connected\" && \n                (iceConnectionState === \"connected\" || iceConnectionState === \"completed\")) {\n                // Log removed to reduce console noise\n                this.knownUsers[payload.sender] = payload.data; // Update user info\n                return;\n            }\n            \n            // Connection exists but is broken, disconnect it\n            if (connectionState === \"failed\" || connectionState === \"closed\" ||\n                iceConnectionState === \"failed\" || iceConnectionState === \"closed\") {\n                console.warn(\"Connection to \" + payload.sender + \" is broken, disconnecting\");\n                this.disconnectFromUser(payload.sender);\n            } else if (connectionState === \"new\") {\n                // Connection is in \"new\" state - check if it's been stuck for too long\n                // If it's been more than 10 seconds, allow a retry\n                const connectionAge = Date.now() - (existingConnection.createdAt || 0);\n                if (connectionAge > 10000) {\n                    console.warn(\"Connection to \" + payload.sender + \" stuck in 'new' state for \" + connectionAge + \"ms, allowing retry\");\n                    this.disconnectFromUser(payload.sender);\n                    // Fall through to create new connection\n                } else {\n                    // Connection is new but not stuck yet, don't interfere\n                    this.knownUsers[payload.sender] = payload.data; // Update user info\n                    return;\n                }\n            } else if (connectionState === \"connecting\") {\n                // Connection is actively connecting, don't interfere\n                this.knownUsers[payload.sender] = payload.data; // Update user info\n                return;\n            } else {\n                // Other states (checking, etc.), allow retry if stuck\n                const connectionAge = Date.now() - (existingConnection.createdAt || 0);\n                if (connectionAge > 15000) {\n                    console.warn(\"Connection to \" + payload.sender + \" stuck in '\" + connectionState + \"' state for \" + connectionAge + \"ms, allowing retry\");\n                    this.disconnectFromUser(payload.sender);\n                    // Fall through to create new connection\n                } else {\n                    // Connection is progressing, don't interfere\n                    this.knownUsers[payload.sender] = payload.data; // Update user info\n                    return;\n                }\n            }\n        }\n        \n        this.knownUsers[payload.sender] = payload.data;\n        this.shouldConnectToUser(payload.sender, payload.data).then(r => {\n            if (r){\n                this.connectToUser(payload.sender);\n            }\n        })\n    },\n    nameChange: payload => {//name\n        this.recordNameChange(payload.data.oldName, payload.data.newName);\n    },\n    unload: payload => {\n        this.disconnectFromUser(payload.sender);\n        delete this.knownUsers[payload.sender];\n    },\n    RTCOffer: payload => {//rtc offer\n        this.shouldConnectToUser(payload.sender, payload.data.userInfo).then(r => {\n            if (r){\n                if (payload.data.offer.target != this.name){return};\n                if (this.rtcConnections[payload.sender]){\n                    console.warn(\"Already have a connection to \" + payload.sender + \". Closing and reopening.\")\n                    this.rtcConnections[payload.sender].close();\n                }\n                this.rtcConnections[payload.sender] = new RTCConnection(this, payload.sender);\n                this.rtcConnections[payload.sender].respondToOffer(payload.data.offer.localDescription);\n                let pendingIceCandidate = this.pendingIceCandidates[payload.sender];\n                if (pendingIceCandidate){\n                    console.log(\"Found pending ice candidate for \" + payload.sender);\n                    this.rtcConnections[payload.sender].onReceivedIceCandidate(pendingIceCandidate);\n                    delete this.pendingIceCandidates[payload.sender];\n                }\n            }else{\n                console.warn(\"Not connecting to \" + payload.sender);\n                // TODO: actually reject offer\n            }\n        });\n\n    },\n\n    RTCIceCandidate: payload => {//rtc ice candidate\n        if (payload.data){\n            let rtcConnection = this.rtcConnections[payload.sender]; // Using the correct connection\n            if (!rtcConnection){\n    //            console.error(\"No connection found for \" + payload.sender);\n                this.pendingIceCandidates[payload.sender] = payload.data;\n    //            rtcConnection = new RTCConnection(this, payload.sender);\n    //            this.rtcConnections[payload.sender] = rtcConnection\n            }else{\n                rtcConnection.onReceivedIceCandidate(payload.data);\n            }\n        }\n    },\n    RTCAnswer: payload => {//rtc answer\n        if (payload.data.target != this.name){return};\n        let rtcConnection = this.rtcConnections[payload.sender]; // Using the correct connection\n        if (!rtcConnection){\n            console.error(\"No connection found for \" + payload.sender);\n            return\n        }\n        rtcConnection.receiveAnswer(payload.data.localDescription);\n    }\n  }\n  shouldConnectToUser(user, userInfo){\n    return Promise.resolve(true);\n  }\n\n  callUser(user, callInfo){\n    let callStartPromise;\n    if (callInfo instanceof MediaStream){\n        let localStream = callInfo;\n        // startCall returns a promise that resolves to {localStream, remoteStream}\n        callStartPromise = this.rtcConnections[user].startCall(localStream);\n    }else{\n        callInfo = callInfo || {video: true, audio: true}\n        callStartPromise = navigator.mediaDevices.getUserMedia(callInfo).then(localStream => {\n            // startCall returns a promise that resolves to {localStream, remoteStream}\n            return this.rtcConnections[user].startCall(localStream);\n        });\n    }\n    let callEndPromise = this.rtcConnections[user].callEndPromise.promise;\n    return {start: callStartPromise, end: callEndPromise};\n  }\n  endCallWithUser(user){\n    console.log(\"Ending call with \" + user);\n    if (this.rtcConnections[user]){\n        this.rtcConnections[user].endCall();\n    }\n  }\n  callFromUser(user, callInfo, initiatedCall, promises){\n    callInfo = callInfo || {video: true, audio: true}\n    if (initiatedCall){\n        return navigator.mediaDevices.getUserMedia(callInfo)\n    }else{\n        return this.acceptCallFromUser(user, callInfo, promises).then(r=> {\n            if (r === false || r === null || r === undefined){\n                return Promise.reject(\"Call rejected\");\n            }\n            // If acceptCallFromUser returns modified callInfo (object), use it\n            // Otherwise use the original callInfo\n            const mediaCallInfo = (typeof r === 'object' && r !== null && (r.video !== undefined || r.audio !== undefined)) \n                ? r \n                : callInfo;\n            return navigator.mediaDevices.getUserMedia(mediaCallInfo)\n        })\n    }\n  }\n  oncallended(user){\n    console.log(\"Call ended with \" + user);\n    // Emit the callended event so UI components can react\n    this.emit('callended', user);\n  }\n  acceptCallFromUser(user, callInfo, promises){\n     return Promise.resolve(true);\n  }\n  connectToUser(user){\n    if (this.rtcConnections[user]){\n        console.warn(\"Already connected to \" + user);\n        try{\n            this.disconnectFromUser(user);\n        }catch{}\n        delete this.rtcConnections[user];\n    }\n    if (!this.connectionToUser(user)){\n        this.rtcConnections[user] = new RTCConnection(this, user);\n        this.rtcConnections[user].sendOffer();\n        return this.rtcConnections[user];\n    }\n  }\n  connectionToUser(user){\n    let existingConnection = this.rtcConnections[user];\n    if (existingConnection && existingConnection.peerConnection.connectionState === \"connected\"){\n        return existingConnection\n    }else if (existingConnection){\n        console.warn(\"Already have a connection to \" + user + \" but it's not connected.\", existingConnection.peerConnection.connectionState);\n        if (existingConnection.peerConnection.connectionState == \"failed\"){\n            console.warn(\"Connection failed. Closing and reopening.\");\n            this.disconnectFromUser(user);\n            return null;\n        }\n\n\n        return existingConnection;\n\n    }\n    return null;\n  }\n  connectionsToUsers(users){\n    users = users || Object.keys(this.rtcConnections);\n    if (typeof users === \"string\"){\n        users = [users];\n    }\n    return users.filter(c => this.connectionToUser(c));\n  }\n  get connectedUsers(){\n    return this.connectionsToUsers();\n  }\n  disconnectFromUser(user){\n    console.warn(\"Closing connection to \" + user);\n    let rtcConnection = this.rtcConnections[user]\n    if (rtcConnection){\n        rtcConnection.close();\n        delete this.rtcConnections[user];\n        console.warn(\"Closed connection to \" + user);\n    }else{\n        console.warn(\"No connection to close to \" + user);\n    }\n  }\n  onConnectedToUser(user){\n    console.log(\"Connected to user \", user);\n    this.emit('connectedtopeer', user);\n  }\n  isConnectedToUser(user){\n    return this.rtcConnections[user] && this.rtcConnections[user].peerConnection.connectionState === \"connected\";\n  }\n  onrtcdisconnectedFromUser(user){\n    if (!this.rtcConnections[user]){\n        console.warn(\"Already disconnected from\" + user);\n        return;\n    }\n    console.log(\"Disconnected from user \", user);\n    delete this.rtcConnections[user];\n    this.onDisconnectedFromUser(user);\n  }\n  onDisconnectedFromUser(user){\n    console.log(\"Disconnected from user \", user);\n    this.emit('disconnectedfrompeer', user);\n  }\n\n  changeName(newName){\n    let oldName = this.name;\n    const tabID = this.tabManager ? this.tabManager.getTabID() : (typeof tabID !== 'undefined' ? tabID : null);\n    this.name = newName + (tabID ? ('(' + tabID + ')') : '');\n    \n    // Use storage adapter if available, otherwise use localStorage\n    if (this.storage) {\n      this.storage.setItem(\"name\", newName);\n      this.storage.setItem(\"rtchat_name\", newName);\n    } else if (typeof localStorage !== 'undefined') {\n      localStorage.setItem(\"name\", newName);\n    }\n    \n    this.postPubliclyToMQTTServer(\"nameChange\", {oldName: this.name, newName});\n  }\n  recordNameChange(oldName, newName){\n    this.knownUsers[newName] = this.knownUsers[oldName];\n    delete this.knownUsers[oldName];\n    this.rtcConnections[newName] = this.rtcConnections[oldName];\n    delete this.rtcConnections[oldName];\n    this.onNameChange(oldName, newName);\n  }\n    onNameChange(oldName, newName){\n        console.log(oldName + \" changed name to \" + newName);\n    }\n  //____________________________________________________________________________________________________________________\n  sendOverRTC(channel, data, users){\n    if (!channel){ throw new Error(\"No channel specified\") }\n    if (!this.rtcHandlers[channel]){throw new Error(\"Unsupported RTC channel: \" + channel)}\n    let handler = this.rtcHandlers[channel];\n    data = data || channel;\n    let serializedData = data\n    if (handler && !handler.raw){\n        serializedData = (handler.serializer || JSON.stringify)(data);\n    }\n    for (let user of this.connectionsToUsers(users)){\n        if (!this.verifyUser(channel, data, user)){\n            console.warn(\"Not connected to \" + user);\n            continue;\n        }else{\n            const sendResult = this.rtcConnections[user].send(channel, serializedData);\n            // If send returns a promise (channel not ready), handle it\n            if (sendResult && typeof sendResult.then === 'function') {\n                sendResult.catch(err => {\n                    console.error(`Failed to send on channel ${channel} to ${user}:`, err);\n                });\n            }\n        }\n    }\n  }\n  verifyUser(channel, data, user){\n    return true;\n  }\n\n  //____________________________________________________________________________________________________________________\n  rtcHandlers = {\n    connectedViaRTC: (data, sender) => { this.onConnectedToUser(sender) },\n  }\n\n  onrtcmessage(channel, data, sender){\n    let handler = this.rtcHandlers[channel];\n    let deserializedData = data;\n    if (handler && !handler.raw){\n        deserializedData = (handler.deserializer || JSON.parse)(data);\n    }\n    if (handler){\n        handler(deserializedData, sender);\n    }else{\n        console.warn(\"No handler found for \" + channel);\n    }\n    // Emit generic RTC message event\n    this.emit('rtcmessage', channel, deserializedData, sender);\n  }\n  onrtcerror(channel, error, sender){\n    let handler = this.rtcHandlers[channel];\n    if (handler && handler.error){\n        handler.error(error, sender);\n    }\n  }\n}\n\n\nclass RTCConnection {\n    constructor(mqttClient, target){\n        // Use iceServers array if available, otherwise fall back to stunServer\n        const iceServers = mqttClient.iceServers || \n          (mqttClient.stunServer ? [{ urls: mqttClient.stunServer }] : \n           [{ urls: \"stun:stun4.l.google.com:19302\" }]);\n        \n        this.rtcConfiguration = { \n          iceServers: iceServers,\n          iceTransportPolicy: mqttClient.config?.getConfig()?.webrtc?.iceTransportPolicy || 'all',\n          bundlePolicy: mqttClient.config?.getConfig()?.webrtc?.bundlePolicy || 'balanced',\n          rtcpMuxPolicy: mqttClient.config?.getConfig()?.webrtc?.rtcpMuxPolicy || 'require'\n        };\n        this.target = target;\n        this.mqttClient = mqttClient;\n        this.dataChannels = {};\n        this.createdAt = Date.now(); // Track when connection was created\n        this.peerConnection = new RTCPeerConnection(this.rtcConfiguration);\n        this.peerConnection.onicecandidate = this.onicecandidate.bind(this);\n\n        this.startCall = this.startCall.bind(this);\n        this.onTrack = this.onTrack.bind(this);\n        this.sentOffer = false;\n\n        this.streamChannels = [\"streamice\", \"streamoffer\", \"streamanswer\", \"endcall\"];\n\n        this.dataChannelDeferredPromises = Object.fromEntries(Object.entries(mqttClient.rtcHandlers).map(([name, handler]) => [name, new DeferredPromise()]));\n        this.streamChannels.forEach(channel => this.dataChannelDeferredPromises[channel] = new DeferredPromise());\n\n        this.loadPromise = Promise.all(Object.values(this.dataChannelDeferredPromises).map((deferredPromise) => deferredPromise.promise));\n        this.loaded = false;\n        this.loadPromise.then((() => {this.loaded = true}).bind(this));\n\n        this.peerConnection.ondatachannel = ((event) => {\n            this.registerDataChannel(event.channel);\n        }).bind(this);\n        this.peerConnection.oniceconnectionstatechange = (function() {\n            if (this.peerConnection.iceConnectionState === 'disconnected' ||\n                this.peerConnection.iceConnectionState === 'failed' ||\n                this.peerConnection.iceConnectionState === 'closed') {\n                this.mqttClient.onDisconnectedFromUser(this.target);\n            }\n        }).bind(this);\n\n        this.pendingStreamIceCandidate = null;\n        this.streamConnection = null;\n        this.remoteStream = null;\n        this.localStream = null;\n        this.sendstreamice = false;\n        this.initiatedCall = false;\n        this.streamConnectionPromise = new DeferredPromise();\n        this.streamPromise = new DeferredPromise();\n        this.callEndPromise = new DeferredPromise();\n        this.callPromises = {start: this.streamPromise.promise, end: this.callEndPromise.promise};\n    }\n    registerDataChannel(dataChannel){\n        dataChannel.onmessage = ((e) => {\n            this.onmessage(e, dataChannel.label);\n        }).bind(this);\n        dataChannel.onerror = ((e) => {\n            this.dataChannelDeferredPromises[dataChannel.label].reject(e);\n            this.ondatachannelerror(e, dataChannel.label);\n        }).bind(this);\n        dataChannel.onopen = ((e) => {\n            this.dataChannelDeferredPromises[dataChannel.label].resolve(e);\n        }).bind(this);\n        this.dataChannels[dataChannel.label] = dataChannel;\n    }\n    setupDataChannels(){\n        for (let [name, dataChannelHandler] of Object.entries(this.mqttClient.rtcHandlers)){\n            let dataChannel = this.peerConnection.createDataChannel(name);\n            this.registerDataChannel(dataChannel);\n        }\n        this.streamChannels.forEach(channel => {\n            let dataChannel = this.peerConnection.createDataChannel(channel);\n            this.registerDataChannel(dataChannel);\n        });\n    }\n\n    startCall(stream){\n        this.initiatedCall = true;\n        // Detect call type from stream tracks\n        const hasVideo = stream.getVideoTracks().length > 0;\n        const hasAudio = stream.getAudioTracks().length > 0;\n        let streamInfo = {video: hasVideo, audio: hasAudio};\n        this.streamConnection = this._makeStreamConnection(stream);\n\n        this.streamConnection.createOffer()\n            .then(offer => this.streamConnection.setLocalDescription(offer))\n            .then(() => {\n                // Send offer via MQTT\n                this.send(\"streamoffer\", JSON.stringify({\"offer\": this.streamConnection.localDescription, \"streamInfo\": streamInfo}));\n            });\n\n         this.callPromises = {start: this.streamPromise.promise, end: this.callEndPromise.promise};\n\n        return this.streamPromise.promise;\n    }\n    _makeStreamConnection(stream){\n        if (this.streamConnection){\n            console.warn(\"Already have a stream connection\");\n            return;\n        }\n        this.localStream = stream\n        this.streamConnection = new RTCPeerConnection(this.rtcConfiguration);\n\n        stream.getTracks().forEach(track => this.streamConnection.addTrack(track, stream));\n\n        this.streamConnection.onicecandidate = this.onstreamicecandidate.bind(this);\n        this.streamConnection.ontrack = this.onTrack;\n        this.streamConnectionPromise.resolve(this.streamConnection);\n        this.callPromises = {start: this.streamPromise.promise, end: this.callEndPromise.promise};\n        return this.streamConnection;\n    }\n    onTrack(event){\n        console.warn(\"Track event\", event);\n        this.remoteStream = event.streams[0];\n        let d = {\n            localStream: this.localStream,\n            remoteStream: this.remoteStream\n        }\n        this.streamPromise.resolve(d);\n        this.mqttClient.oncallconnected(this.target, d);\n    }\n    sendOffer(){\n        this.setupDataChannels();\n        this.peerConnection.createOffer()\n          .then(offer => this.peerConnection.setLocalDescription(offer))\n          .then(() => {\n            // Send offer via MQTT\n            console.log(\"Sending offer to \" + this.target);\n            this.mqttClient.postPubliclyToMQTTServer(\"RTCOffer\", {userInfo: this.mqttClient.userInfo, offer: {\"localDescription\": this.peerConnection.localDescription, \"target\": this.target}});\n          });\n        this.sentOffer = true;\n    }\n    respondToOffer(offer){\n        this.peerConnection.setRemoteDescription(new RTCSessionDescription(offer))\n              .then(() => this.peerConnection.createAnswer())\n              .then(answer => this.peerConnection.setLocalDescription(answer))\n              .then((answer) => {\n                // Send answer via MQTT\n                this.mqttClient.postPubliclyToMQTTServer(\"RTCAnswer\", {\n                    \"localDescription\": this.peerConnection.localDescription,\n                    \"target\": this.target,\n                });\n              });\n    }\n    receiveAnswer(answer){\n        if (this.peerConnection.signalingState !== 'have-local-offer') {\n            // This can happen if answer arrives after connection is established or out of order\n            // It's not necessarily an error, just means we can't process this answer\n            if (this.peerConnection.signalingState !== 'stable') {\n                // Only warn if it's an unexpected state (not just \"stable\" which is normal)\n                console.warn(\"Received answer in unexpected signaling state: \" + this.peerConnection.signalingState);\n            }\n            return;\n        }\n        this.peerConnection.setRemoteDescription(new RTCSessionDescription(answer));\n        // Wait for all data channels to be ready before notifying connection\n        this.loadPromise.then((() => {\n            this.send(\"connectedViaRTC\", null);\n            this.mqttClient.onConnectedToUser(this.target);\n        }).bind(this));\n    }\n    send(channel, serializedData){\n        let dataChannel = this.dataChannels[channel];\n        if (!dataChannel){\n            if (this.mqttClient.rtcHandlers[channel]){\n                console.warn(\"handler found for \", channel, \"but no data channel\");\n            }\n            throw new Error(\"No data channel for \" + channel);\n        }\n        \n        // If channel is not open, wait for it to open\n        if (dataChannel.readyState !== \"open\"){\n            if (dataChannel.readyState === \"closed\") {\n                throw new Error(\"Channel closed: \" + channel);\n            }\n            // Channel is connecting, wait for it to open\n            return new Promise((resolve, reject) => {\n                const timeout = setTimeout(() => {\n                    reject(new Error(`Channel ${channel} did not open within 10 seconds`));\n                }, 10000);\n                \n                const onOpen = () => {\n                    clearTimeout(timeout);\n                    dataChannel.removeEventListener('open', onOpen);\n                    dataChannel.removeEventListener('error', onError);\n                    try {\n                        dataChannel.send(serializedData);\n                        resolve();\n                    } catch (e) {\n                        reject(e);\n                    }\n                };\n                \n                const onError = (e) => {\n                    clearTimeout(timeout);\n                    dataChannel.removeEventListener('open', onOpen);\n                    dataChannel.removeEventListener('error', onError);\n                    reject(new Error(`Channel ${channel} error: ${e.message || e}`));\n                };\n                \n                dataChannel.addEventListener('open', onOpen);\n                dataChannel.addEventListener('error', onError);\n            });\n        }\n        \n        dataChannel.send(serializedData);\n    }\n    onmessage(event, channel){\n        if (channel === \"streamoffer\"){\n            console.log(\"received stream offer\", event.data)\n            let {offer, streamInfo} = JSON.parse(event.data);\n            // Use streamInfo from the offer if available, otherwise default to video+audio\n            const callInfo = streamInfo || {video: true, audio: true};\n            this.mqttClient.callFromUser(this.target, callInfo, this.initiatedCall, this.callPromises).then(stream => {\n                if (!this.streamConnection){\n                    this.streamConnection = this._makeStreamConnection(stream);\n                }\n                return this.streamConnection;\n            }).catch(e => {\n                // If call was rejected, properly end the call\n                if (e === \"Call rejected\" || (typeof e === 'string' && e.includes('rejected'))) {\n                    console.log(`Call rejected by ${this.target}, ending call`);\n                    // End the call properly\n                    this.endCall();\n                }\n                this.streamConnectionPromise.reject(e);\n                this.streamPromise.reject(e);\n            }).then(streamConnection => {\n                streamConnection.setRemoteDescription(new RTCSessionDescription(offer))\n                    .then(() => this.streamConnection.createAnswer())\n                    .then(answer => this.streamConnection.setLocalDescription(answer))\n                    .then(() => {\n                        // Send answer via MQTT\n                        console.log(\"Sending stream answer\", this.streamConnection.localDescription);\n                        this.send(\"streamanswer\", JSON.stringify({\"answer\": this.streamConnection.localDescription}));\n                        if (this.pendingStreamIceCandidate){\n                            console.log(\"Found pending stream ice candidate\");\n                            this.streamConnection.addIceCandidate(new RTCIceCandidate(this.pendingStreamIceCandidate));\n                            this.pendingStreamIceCandidate = null;\n                        }\n                    });\n            });\n\n        }else if (channel === \"streamanswer\"){\n            console.log(\"received stream answer\", event.data)\n            let {answer} = JSON.parse(event.data);\n            this.streamConnection.setRemoteDescription(new RTCSessionDescription(answer));\n        }else if (channel === \"streamice\"){\n            console.log(\"received stream ice\", event.data)\n            if (event.data){\n                if (this.streamConnection){\n                    this.streamConnection.addIceCandidate(new RTCIceCandidate(JSON.parse(event.data)));\n                }else{\n                    this.pendingStreamIceCandidate = JSON.parse(event.data);\n                }\n            }\n        }else if (channel === \"endcall\"){\n            this._closeCall();\n        }else{\n            this.mqttClient.onrtcmessage(channel, event.data, this.target);\n        }\n    }\n    endCall(){\n        this.send(\"endcall\", null);\n        this._closeCall();\n    }\n    _closeCall(){\n        if (this.streamConnection){\n            this.streamConnection.close();\n            this.localStream.getTracks().forEach(track => track.stop());\n            this.remoteStream.getTracks().forEach(track => track.stop());\n            this.remoteStream = null;\n            this.localStream = null;\n        }\n        this.callEndPromise.resolve();\n        this.callEndPromise = new DeferredPromise();\n        this.callRinging = false;\n        this.initiatedCall = false;\n        this.streamConnection = null;\n        this.pendingStreamIceCandidate = null;\n        this.streamConnectionPromise = new DeferredPromise();\n        this.streamPromise = new DeferredPromise();\n        this.callEndPromise = new DeferredPromise();\n        this.callPromises = {start: this.streamPromise.promise, end: this.callEndPromise.promise};\n\n        this.mqttClient.oncallended(this.target);\n    }\n\n    onReceivedIceCandidate(data) {\n        this.peerConnection.addIceCandidate(new RTCIceCandidate(data));\n    }\n\n    onicecandidate(event){\n//        if (event.candidate && !this.sentice) {\n//            this.sentice = true;\n            // Send ICE candidate via MQTT\n            this.mqttClient.postPubliclyToMQTTServer(\"RTCIceCandidate\", event.candidate);\n//        }\n    }\n    onstreamicecandidate(event){\n        if (event.candidate) {\n            // Send ICE candidate via RTC\n            // Reduced logging - ICE candidates are sent very frequently during connection setup\n            // console.log(\"Sending stream ice\", this, event.candidate);\n            this.send(\"streamice\", JSON.stringify(event.candidate));\n        }\n    }\n    ondatachannel(event){\n        let dataChannel = event.channel;\n        this.dataChannels[event.name] = dataChannel;\n        dataChannel.onmessage = this.onmessage.bind(this);\n    }\n    ondatachannelerror(error, channelName){\n        this.mqttClient.onrtcerror(channelName, error, this.target);\n    }\n\n    close(){\n        if (this.closed){return}\n        this.peerConnection.close();\n        this.closed = true;\n        this.peerConnection = null;\n        this.mqttClient.onrtcdisconnectedFromUser(this.target);\n    }\n}\n\n\nclass PromisefulMQTTRTCClient extends BaseMQTTRTCClient {\n    constructor(config){\n    config = config || {};\n    let {name, userInfo, questionHandlers, handlers, load} = config;\n    if (load === undefined){\n        load = true;\n    }\n\n    config.load = false;\n    // initialize state tracking variables\n    super(config);\n\n    Object.assign(this.rtcHandlers, this.extraRTCHandlers);\n    Object.assign(this.rtcHandlers, handlers || {});\n    for (let [k, v] of Object.entries(this.rtcHandlers)){\n        this.rtcHandlers[k] = v.bind(this);\n    }\n\n    if (questionHandlers){\n        this.questionHandlers = questionHandlers;\n    }else if (!this.questionHandlers){\n        this.questionHandlers = {};\n    }\n    this.questionPromises = {};\n    this.latestPings = {};\n    this.questionNumber = 0;\n\n    this.mqttConnected = new DeferredPromise();\n    this.nextUserConnection = new DeferredPromise();\n    this.nextUserDisconnectionPromises = {}\n    this.nextDMPromises = {};\n    this.nextChatPromises = {};\n    this.nextQuestionPromises = {};\n    this.nextAnswerPromises = {};\n    this.nextPingPromises = {};\n    this.nextPongPromises = {};\n    this.nextMQTTMessagePromises = {};\n\n\n    this.onConnectedToMQTT = this.onConnectedToMQTT.bind(this);\n    this.sendRTCDM = this.sendRTCDM.bind(this);\n    this.onRTCDM = this.onRTCDM.bind(this);\n    this.sendRTCChat = this.sendRTCChat.bind(this);\n    this.onRTCChat = this.onRTCChat.bind(this);\n    this.onConnectedToUser = this.onConnectedToUser.bind(this);\n    this.onDisconnectedFromUser = this.onDisconnectedFromUser.bind(this);\n    this.sendRTCQuestion = this.sendRTCQuestion.bind(this);\n    this.onRTCQuestion = this.onRTCQuestion.bind(this);\n    this.respondToQuestion = this.respondToQuestion.bind(this);\n    this.onRTCAnswer = this.onRTCAnswer.bind(this);\n    this.pingEveryone = this.pingEveryone.bind(this);\n    this.ping = this.ping.bind(this);\n    this.receivedPing = this.receivedPing.bind(this);\n    this.receivedPong = this.receivedPong.bind(this);\n\n    this.nextUserDisconnection = this.nextUserDisconnection.bind(this);\n    this.nextMQTTMessage = this.nextMQTTMessage.bind(this);\n    this.nextAnswer = this.nextAnswer.bind(this);\n    this.nextQuestion = this.nextQuestion.bind(this);\n    this.nextChat = this.nextChat.bind(this);\n    this.nextDM = this.nextDM.bind(this);\n    this.nextPing = this.nextPing.bind(this);\n    this.nextPong = this.nextPong.bind(this);\n\n    this.addQuestionHandler = this.addQuestionHandler.bind(this);\n\n    if (load){\n        this.load();\n    }\n  }\n  addQuestionHandler(name, handler){\n        this.questionHandlers[name] = handler;\n  }\n\n  extraRTCHandlers = {\n    dm: (data, sender) => {\n        this.onRTCDM(data, sender);\n        if (this.nextDMPromises[\"anyone\"]){\n            this.nextDMPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextDMPromises[\"anyone\"];\n        }\n        if (this.nextDMPromises[sender]){\n            this.nextDMPromises[sender].resolve(data);\n            delete this.nextDMPromises[sender];\n        }\n    },\n    chat: (data, sender) => {\n        this.onRTCChat(data, sender);\n        if (this.nextChatPromises[\"anyone\"]){\n            this.nextChatPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextChatPromises[\"anyone\"];\n        }\n        if (this.nextChatPromises[sender]){\n            this.nextChatPromises[sender].resolve(data);\n            delete this.nextChatPromises[sender];\n        }\n    },\n    question: (data, sender) => {\n        this.onRTCQuestion(data, sender);\n        if (this.nextQuestionPromises[\"anyone\"]){\n            this.nextQuestionPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextQuestionPromises[\"anyone\"];\n        }\n        if (this.nextQuestionPromises[sender]){\n            this.nextQuestionPromises[sender].resolve(data);\n            delete this.nextQuestionPromises[sender];\n        }\n\n    },\n    answer: (data, sender) => {\n        this.onRTCAnswer(data, sender);\n        if (this.nextAnswerPromises[\"anyone\"]){\n            this.nextAnswerPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextAnswerPromises[\"anyone\"];\n        }\n        if (this.nextAnswerPromises[sender]){\n            this.nextAnswerPromises[sender].resolve(data);\n            delete this.nextAnswerPromises[sender];\n        }\n    },\n    ping: (data, sender) => {\n        this.sendOverRTC(\"pong\", null, sender);\n        this.receivedPing(sender);\n        if (this.nextPingPromises[\"anyone\"]){\n            this.nextPingPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextPingPromises[\"anyone\"];\n        }\n        if (this.nextPingPromises[sender]){\n            this.nextPingPromises[sender].resolve(data);\n            delete this.nextPingPromises[sender];\n        }\n    },\n    pong: (data, sender) => {\n        this.latestPings[sender].resolve();\n        this.receivedPong(sender);\n        if (this.nextPongPromises[\"anyone\"]){\n            this.nextPongPromises[\"anyone\"].resolve([data, sender]);\n            delete this.nextPongPromises[\"anyone\"];\n        }\n        if (this.nextPongPromises[sender]){\n            this.nextPongPromises[sender].resolve(data);\n            delete this.nextPongPromises[sender];\n        }\n    },\n  }\n\n  onConnectedToMQTT(){\n    this.mqttConnected.resolve();\n    console.log(\"Connected to MQTT\");\n  }\n  postPubliclyToMQTTServer(subtopic, data){\n    super.postPubliclyToMQTTServer(subtopic, data);\n  }\n  onMQTTMessage(subtopic, data, sender, timestamp){\n    console.log(\"Received message from \" + sender + \" on \" + subtopic, data);\n    if (this.nextMQTTMessagePromises[\"anysubtopic\"]){\n        this.nextMQTTMessagePromises[\"anysubtopic\"].resolve([data, sender, timestamp]);\n        delete this.nextMQTTMessagePromises[\"anysubtopic\"];\n    }\n    if (this.nextMQTTMessagePromises[subtopic]){\n        this.nextMQTTMessagePromises[subtopic].resolve([data, sender, timestamp]);\n        delete this.nextMQTTMessagePromises[subtopic];\n    }\n    // Call parent to emit event\n    super.onMQTTMessage(subtopic, data, sender, timestamp);\n  }\n\n //__________________________________________________ RTC ______________________________________________________________\n  onConnectedToUser(user){\n    console.log(\"Connected to user \", user);\n    this.nextUserConnection.resolve(user);\n    this.nextUserConnection = new DeferredPromise();\n  }\n  onDisconnectedFromUser(user){\n    console.log(\"Disconnected from user \", user);\n    this.nextUserDisconnection.resolve(user);\n    if (this.nextUserDisconnectionPromises[\"anyone\"]){\n        this.nextUserDisconnectionPromises[\"anyone\"].resolve(user);\n        delete this.nextUserDisconnectionPromises[\"anyone\"];\n    }\n    if (this.nextUserDisconnectionPromises[user]){\n        this.nextUserDisconnectionPromises[user].resolve(user);\n        delete this.nextUserDisconnectionPromises[user];\n    }\n  }\n\n  sendRTCDM(message, target){\n    this.sendOverRTC(\"dm\", message, target);\n  }\n  onRTCDM(message, sender){\n    console.log(\"Received DM from \" + sender, message);\n  }\n  nextDM(target='anyone'){\n    this.nextDMPromises[target] = new DeferredPromise();\n    return this.nextDMPromises[target].promise;\n  }\n  nextChat(target='anyone'){\n    this.nextChatPromises[target] = new DeferredPromise();\n    return this.nextChatPromises[target].promise;\n  }\n  nextQuestion(target='anyone'){\n    this.nextQuestionPromises[target] = new DeferredPromise();\n    return this.nextQuestionPromises[target].promise;\n  }\n    nextAnswer(target='anyone'){\n        this.nextAnswerPromises[target] = new DeferredPromise();\n        return this.nextAnswerPromises[target].promise;\n    }\n    nextPing(target='anyone'){\n        this.nextPingPromises[target] = new DeferredPromise();\n        return this.nextPingPromises[target].promise;\n    }\n    nextPong(target='anyone'){\n        this.nextPongPromises[target] = new DeferredPromise();\n        return this.nextPongPromises[target].promise;\n    }\n    nextUserDisconnection(target='anyone'){\n        this.nextUserDisconnectionPromises[target] = new DeferredPromise();\n        return this.nextUserDisconnectionPromises[target].promise;\n    }\n    nextMQTTMessage(subtopic='anysubtopic'){\n        this.nextMQTTMessagePromises[subtopic] = new DeferredPromise();\n        return this.nextMQTTMessagePromises[subtopic].promise;\n    }\n\n\n  sendRTCChat(message){\n    this.sendOverRTC(\"chat\", message);\n  }\n  onRTCChat(message, sender){\n    console.log(\"Received chat from \" + sender, message);\n  }\n  sendRTCQuestion(topic, content, target){\n    let question = {topic, content};\n    let n = this.questionNumber;\n    this.questionNumber++;\n    let p = new DeferredPromise();\n    this.questionPromises[n] = p;\n    let data = {n, question};\n    this.sendOverRTC(\"question\", data, target);\n    return p.promise;\n  }\n  onRTCQuestion(data, sender){\n    let {n, question} = data;\n    let answer = this.respondToQuestion(question, sender);\n    if (answer instanceof Promise){\n        answer.then((a) => {\n            this.sendOverRTC(\"answer\", {n, answer: a, question}, sender);\n        });\n    }else{\n        this.sendOverRTC(\"answer\", {n, answer, question}, sender);\n    }\n  }\n  respondToQuestion(question, sender){\n    let {topic, content} = question;\n    if (this.questionHandlers[topic]){\n        return this.questionHandlers[topic](content, sender);\n    }else{\n        console.warn(\"No handler found for question \" + topic);\n        throw new Error(\"No handler found for question \" + topic);\n    }\n    return \"I don't know.\"\n  }\n  onRTCAnswer(data, sender){\n    let {n, answer} = data;\n    if (this.questionPromises[n]){\n        this.questionPromises[n].resolve(answer);\n        delete this.questionPromises[n];\n    }else{\n        console.warn(\"No promise found for question \" + n);\n    }\n  }\n  pingEveryone(){\n    this.latestPings = {};\n    for (let user of this.connectedUsers){\n        this.ping(user);\n    }\n    return Promise.all(Object.values(this.latestPings).map((p) => p.promise));\n  }\n  ping(user){\n    this.latestPings[user] = new DeferredPromise();\n    this.sendOverRTC(\"ping\", \"ping\", users);\n    return this.latestPings[user].promise;\n  }\n  receivedPing(sender){\n    console.log(\"Received ping from \" + sender);\n  }\n  receivedPong(sender){\n    console.log(\"Received pong from \" + sender);\n  }\n\n\n\n}\n\nclass MQTTRTCClient extends PromisefulMQTTRTCClient {\n    constructor(config){\n        config = config || {};\n        let {name, userInfo, questionHandlers, handlers, load} = config;\n        // this.knownUsers = {name: userInfo, ...} of all users, even those we're not connected to\n        // this.rtcConnections = {name: rtcConnection, ...} of active connections\n        // this.connectedUsers = [name, ...] of all users we're connected to\n        if (load === undefined){\n            load = true;\n        }\n        config.load = false;\n        super(config);\n        \n\n        if (load){\n            this.load();\n        }\n\n    }\n    on(rtcevent, handler){\n        // Use EventEmitter for standard events, but handle special cases\n        if (rtcevent === \"connectionrequest\"){\n            // Special case: connectionrequest sets shouldConnectToUser\n            this.shouldConnectToUser = handler.bind(this);\n            // Also register as event listener for consistency\n            return super.on(rtcevent, handler);\n        }else if (rtcevent === \"call\"){\n            // Special case: call sets acceptCallFromUser\n            this.acceptCallFromUser = handler.bind(this);\n            // Also register as event listener\n            return super.on(rtcevent, handler);\n        }else if (rtcevent === \"callended\"){\n            // Special case: callended sets oncallended\n            this.oncallended = handler.bind(this);\n            // Also register as event listener\n            return super.on(rtcevent, handler);\n        }else if (rtcevent === \"question\"){\n            // Question handlers are registered via addQuestionHandler\n            this.addQuestionHandler(rtcevent, handler);\n            // Also emit events for consistency\n            return super.on(rtcevent, handler);\n        }else{\n            // All other events use EventEmitter\n            return super.on(rtcevent, handler);\n        }\n    }\n\n    shouldConnectToUser(user, userInfo){\n        return super.shouldConnectToUser(user, userInfo);\n      }\n\n    changeName(newName){\n        super.changeName(newName);\n    }\n    onNameChange(oldName, newName){\n        super.onNameChange(oldName, newName);\n        this.emit('namechange', oldName, newName);\n    }\n\n    onConnectedToMQTT(){\n        console.log(\"Connected to MQTT\");\n        this.emit('mqttconnected');\n    }\n    onConnectedToUser(user){\n        console.log(\"Connected to user \", user);\n        this.emit('connectedtopeer', user);\n    }\n    onDisconnectedFromUser(user){\n        console.log(\"Disconnected from user \", user);\n        this.emit('disconnectedfrompeer', user);\n    }\n    onRTCDM(data, sender){\n        this.emit('dm', data, sender);\n    }\n    onRTCChat(data, sender){\n        this.emit('chat', data, sender);\n    }\n    addQuestionHandler(name, handler){\n        super.addQuestionHandler(name, handler);\n    }\n    oncallconnected(sender, {localStream, remoteStream}){\n        this.emit('callconnected', sender, {localStream, remoteStream});\n    }\n\n    pingEveryone(){\n        let start = Date.now();\n        return super.pingEveryone().then(() => {\n            console.log(\"Pinged everyone in \" + (Date.now() - start) + \"ms\");\n        });\n    }\n    ping(user){\n        // time the ping\n        let start = Date.now();\n        return super.ping(user).then(() => {\n            console.log(\"Pinged \" + user + \" in \" + (Date.now() - start) + \"ms\");\n        });\n    }\n    receivedPing(sender){\n        this.emit('ping', sender);\n    }\n\n    // nextUserConnection is a promise that resolves when the client connects to a new user\n    get nextDMPromise() {return this.nextDM();}\n    get nextChatPromise() {return this.nextChat();}\n    get nextQuestionPromise() {return this.nextQuestion();}\n    get nextAnswerPromise() {return this.nextAnswer();}\n    get nextPingPromise() {return this.nextPing();}\n    get nextPongPromise() {return this.nextPong();}\n    get nextUserDisconnectionPromise() {return this.nextUserDisconnection();}\n\n    get connectedUsers(){\n        return this.connectionsToUsers();\n    }\n\n    disconnectFromUser(user){\n        super.disconnectFromUser(user);\n        return this.nextUserDisconnection(user);\n    }\n\n    getPeer(user){\n        return new Peer(this, user);\n    }\n    get peers(){\n        return Object.fromEntries(Object.entries(this.connectedUsers).map(name => [name, new Peer(this, name)]));\n    }\n    get peerList(){\n        return Object.values(this.peers);\n    }\n    send(data, channel = 'chat', users){\n        return super.sendOverRTC(channel, data, users);\n    }\n}\n\nclass Peer{\n    constructor(mqttclient, name){\n        this.mqttClient = mqttclient;\n        this.target = name;\n    }\n    dm(message){\n        return this.mqttClient.sendRTCDM(message, this.target);\n    }\n    chat(message){\n        return this.mqttClient.sendRTCChat(message);\n    }\n    ask(question){\n        return this.mqttClient.sendRTCQuestion(question, this.target);\n    }\n    ping(){\n        return this.mqttClient.ping(this.target);\n    }\n\n}\n\n\n//____________________________________________________________________________________________________________________\n// Export main classes\nexport {MQTTRTCClient, BaseMQTTRTCClient, PromisefulMQTTRTCClient, RTCConnection, Peer, DeferredPromise};\nexport { RTCConfig, LocalStorageAdapter, TabManager, MQTTLoader };","/**\n * Keys - Cryptographic key management for identity verification\n * \n * Manages RSA-PSS key pairs for signing and verification.\n * Handles key generation, storage, and challenge/response operations.\n * \n * @param {string} name - The name associated with these keys\n * @param {boolean|'force'} generate - Whether to generate new keys if none exist. 'force' will always generate.\n * @param {Object} dependencies - Injected dependencies\n * @param {StorageAdapter} [dependencies.storage] - Storage adapter for key persistence. Falls back to localStorage if available.\n * @param {Crypto} [dependencies.crypto] - Web Crypto API instance. Falls back to window.crypto if available.\n */\n\nexport class Keys {\n  algorithm = {\n    name: \"RSA-PSS\",\n    modulusLength: 2048,\n    publicExponent: new Uint8Array([1, 0, 1]),\n    hash: {name: \"SHA-256\"},\n  }\n  extractable = true;\n  keyUsages = [\"sign\", \"verify\"];\n\n  constructor(name, generate=true, { storage = null, crypto = null } = {}) {\n    this._name = null;\n    this.name = name;\n    \n    // Use storage adapter if provided, otherwise fall back to localStorage\n    this.storage = storage || (typeof localStorage !== 'undefined' ? {\n      getItem: (key) => localStorage.getItem(key),\n      setItem: (key, value) => localStorage.setItem(key, value),\n      removeItem: (key) => localStorage.removeItem(key)\n    } : null);\n    \n    // Use crypto if provided, otherwise fall back to window.crypto\n    this.crypto = crypto || (typeof window !== 'undefined' && window.crypto ? window.crypto : null);\n    \n    if (!this.crypto || !this.crypto.subtle) {\n      throw new Error(\"Web Crypto API not available. Please provide a crypto instance via constructor.\");\n    }\n\n    this._loadKeys = this._loadKeys.bind(this);\n    this.load = this.load.bind(this);\n    this.generate = this.generate.bind(this);\n    this._dumpKey = this._dumpKey.bind(this);\n    this._loadPrivateKey = this._loadPrivateKey.bind(this);\n    this._loadPublicKey = this._loadPublicKey.bind(this);\n    this.sign = this.sign.bind(this);\n    this.getChallengeString = this.getChallengeString.bind(this);\n    this.verify = this.verify.bind(this);\n    this.savePublicKey = this.savePublicKey.bind(this);\n    this.savePublicKeyString = this.savePublicKeyString.bind(this);\n    this.getPublicKey = this.getPublicKey.bind(this);\n    this.clearOwnKeys = this.clearOwnKeys.bind(this);\n    this.clearKnownHosts = this.clearKnownHosts.bind(this);\n    this.getPeerNames = this.getPeerNames.bind(this);\n    this.reset = this.reset.bind(this);\n\n    this.loadedPromise = this.load(generate);\n  }\n  \n  load(generate=true) {\n    this.loading = true;\n    this.loaded = false;\n    this.loadedPromise = this._loadKeys(generate).then((keys) => {\n      if (!this.storage) {\n        this._knownHostsStrings = {};\n        this._knownHostsKeys = {};\n      } else {\n        this._knownHostsStrings = JSON.parse(this.storage.getItem(\"knownHostsStrings\") || \"{}\");\n        for (let [name, key] of Object.entries(this._knownHostsStrings)) {\n          if (name.startsWith(\"anon\")){\n            delete this._knownHostsStrings[name];\n          }\n        }\n        this._knownHostsKeys = {};\n      }\n      \n      this._privateKey = keys.privateKey;\n      this._publicKey = keys.publicKey;\n      this._privateKeyString = keys.privateKeyString;\n      this.publicKeyString = keys.publicKeyString;\n      \n      if (this.storage) {\n        this.storage.setItem(\"privateKeyString\", this._privateKeyString);\n        this.storage.setItem(\"publicKeyString\", this.publicKeyString);\n      }\n      \n      this.loaded = true;\n      this.loading = false;\n      return this.publicKeyString;\n    });\n    return this.loadedPromise;\n  }\n  \n  _loadKeys(generate=true) {\n    if (!this.storage) {\n      if (!generate) {\n        throw new Error(\"No storage available and generate is false\");\n      }\n      return this.generate();\n    }\n    \n    let privateKeyString = this.storage.getItem(\"privateKeyString\");\n    let publicKeyString = this.storage.getItem(\"publicKeyString\");\n    if (generate !== 'force' && publicKeyString && privateKeyString) {\n      return this._loadPrivateKey(privateKeyString).then((privateKey) => {\n        return this._loadPublicKey(publicKeyString).then((publicKey) => {\n          return {privateKey, publicKey, privateKeyString, publicKeyString};\n        });\n      })\n    }\n    if (!generate) {\n      throw new Error(\"No keys found and generate is false\");\n    }\n    return this.generate()\n  }\n  \n  generate(){\n    return this.crypto.subtle.generateKey(\n      this.algorithm, this.extractable, this.keyUsages\n    ).then((keys) => {\n      return this._dumpKey(keys.privateKey).then(privateKeyString => {\n        keys.privateKeyString = privateKeyString;\n        return this._dumpKey(keys.publicKey).then(publicKeyString => {\n          keys.publicKeyString = publicKeyString;\n          return keys;\n        });\n      });\n    });\n  }\n  \n  _dumpKey(key){\n    return this.crypto.subtle.exportKey(\"jwk\", key).then(JSON.stringify);\n  }\n  \n  _loadPrivateKey(key){\n    return this.crypto.subtle.importKey(\"jwk\", JSON.parse(key), this.algorithm, this.extractable, [\"sign\"])\n  }\n  \n  _loadPublicKey(key){\n    return this.crypto.subtle.importKey(\"jwk\", JSON.parse(key), this.algorithm, this.extractable, [\"verify\"])\n  }\n  \n  getChallengeString() {\n    return Array.from(this.crypto.getRandomValues(new Uint8Array(32))).map(b => String.fromCharCode(b)).join('');\n  }\n  \n  sign(challenge) {\n    if (this.loading && !this._loaded) {\n      return this.loadedPromise.then(() => this.sign(challenge));\n    }\n    return this.crypto.subtle.sign(\n      {\n        name: \"RSA-PSS\",\n        saltLength: 32,\n      },\n      this._privateKey,\n      new Uint8Array(challenge.split('').map((c) => c.charCodeAt(0))).buffer\n    ).then((signature) => {\n      return String.fromCharCode.apply(null, new Uint8Array(signature));\n    });\n  }\n  \n  verify(publicKeyString, signatureString, challenge) {\n    return this._loadPublicKey(publicKeyString).then((publicKey) => {\n      return this.crypto.subtle.verify(\n        {\n          name: \"RSA-PSS\",\n          saltLength: 32,\n        },\n        publicKey,\n        new Uint8Array(signatureString.split('').map((c) => c.charCodeAt(0))).buffer,\n        new Uint8Array(challenge.split('').map((c) => c.charCodeAt(0))).buffer\n      );\n    });\n  }\n  \n  getPeerNames(publicKeyString) {\n    let matchingPeers = [];\n    if (!this._knownHostsStrings) return matchingPeers;\n    for (let [name, key] of Object.entries(this._knownHostsStrings)) {\n      if (key === publicKeyString) {\n        matchingPeers.push(name);\n      }\n    }\n    return matchingPeers;\n  }\n  \n  savePublicKey(peerName, publicKey) {\n    peerName = peerName.split(\"|\")[0].split(\"(\")[0].trim();\n    if (publicKey instanceof CryptoKey) {\n      return this._dumpKey(publicKey).then((publicKeyString) => {\n        this.savePublicKey(peerName, publicKeyString);\n        this._knownHostsKeys[peerName] = publicKey;\n        return true;\n      });\n    }else{\n      return this.savePublicKeyString(peerName, publicKey);\n    }\n  }\n  \n  savePublicKeyString(peerName, publicKeyString) {\n    peerName = peerName.split(\"|\")[0].split(\"(\")[0].trim();\n    let matchingPeers = this.getPeerNames(publicKeyString);\n    if (matchingPeers.length > 0) {\n      // If the public key is already registered to this peer name, allow updating\n      if (matchingPeers.includes(peerName)) {\n        // Same peer, same key - no change needed, but update anyway to be safe\n        this._knownHostsStrings[peerName] = publicKeyString;\n        if (this.storage) {\n          this.storage.setItem(\"knownHostsStrings\", JSON.stringify(this._knownHostsStrings));\n        }\n        return true;\n      }\n      // Public key is registered to a different peer name\n      console.error(\"Public key already registered for another peer\", matchingPeers);\n      throw new Error(\"Public key already registered for another peer\");\n    }\n    this._knownHostsStrings[peerName] = publicKeyString;\n    if (this.storage) {\n      this.storage.setItem(\"knownHostsStrings\", JSON.stringify(this._knownHostsStrings));\n    }\n    return true;\n  }\n\n  getPublicKey(peerName) {\n    peerName = peerName.split(\"|\")[0].split(\"(\")[0].trim();\n    let publicKey = this._knownHostsKeys?.[peerName];\n    if (publicKey) { return Promise.resolve(publicKey); }\n    let publicKeyString = this._knownHostsStrings?.[peerName];\n    if (publicKeyString) {\n      return this._loadPublicKey(publicKeyString).then((publicKey) => {\n        if (!this._knownHostsKeys) this._knownHostsKeys = {};\n        this._knownHostsKeys[peerName] = publicKey;\n        return publicKey;\n      });\n    }\n    return Promise.resolve(null);\n  }\n  \n  getPublicKeyString(peerName) {\n    peerName = peerName.split(\"|\")[0].split(\"(\")[0].trim();\n    return this._knownHostsStrings?.[peerName] || null;\n  }\n  \n  removePublicKey(peerName) {\n    peerName = peerName.split(\"|\")[0].split(\"(\")[0].trim();\n    if (this._knownHostsStrings) {\n      delete this._knownHostsStrings[peerName];\n    }\n    if (this._knownHostsKeys) {\n      delete this._knownHostsKeys[peerName];\n    }\n    if (this.storage) {\n      this.storage.setItem(\"knownHostsStrings\", JSON.stringify(this._knownHostsStrings || {}));\n    }\n  }\n\n  get knownHosts() {\n    if (!this._knownHostsStrings) return [];\n    return Object.entries(this._knownHostsStrings).map(([name, key]) => {\n      return name + \"|\" + key;\n    });\n  }\n  \n  clearOwnKeys() {\n    if (this.storage) {\n      this.storage.removeItem(\"privateKeyString\");\n      this.storage.removeItem(\"publicKeyString\");\n    }\n    this._privateKey = null;\n    this._publicKey = null;\n    this._privateKeyString = null;\n    this.publicKeyString = null;\n  }\n  \n  clearKnownHosts() {\n    if (this.storage) {\n      this.storage.removeItem(\"knownHostsStrings\");\n    }\n    this._knownHostsKeys = {};\n    this._knownHostsStrings = {};\n  }\n\n  reset(){\n    this.clearOwnKeys();\n    this.clearKnownHosts();\n  }\n\n  get name(){return this._name}\n  set name(name) {\n    if (name.includes(\"|\")) {\n      throw new Error(\"Name cannot contain |\");\n    }\n    this._name = name;\n  }\n\n  get identity() {\n    if (!this.loaded){return null}\n    let name = this.name.split(\"|\")[0].split(\"(\")[0].trim();\n    return name + \"|\" + this.publicKeyString;\n  }\n\n  register(identity) {\n    let [peerName, publicKeyString] = identity.split(\"|\");\n    return this.savePublicKeyString(peerName, publicKeyString);\n  }\n}\n\n","/**\n * Signed MQTT-RTC Client - Secure peer-to-peer communication with identity verification\n * \n * Extends MQTTRTCClient with cryptographic identity verification using RSA-PSS keys.\n * Implements a challenge/response system to verify peer identities and prevent impersonation.\n * \n * Usage:\n *   import { SignedMQTTRTCClient } from './signed-mqtt-rtc.js';\n *   \n *   const client = new SignedMQTTRTCClient({\n *     name: 'MyName',\n *     trustMode: 'moderate',  // Trust configuration\n *     generate: true          // Generate new keys if none exist\n *   });\n * \n *   client.on('validation', (peerName, trusted) => {\n *     console.log(`Peer ${peerName} validated, trusted: ${trusted}`);\n *   });\n * \n *   client.on('validationfailure', (peerName, message) => {\n *     console.error(`Validation failed for ${peerName}: ${message}`);\n *   });\n * \n * Identity System:\n * - Each client generates an RSA-PSS key pair (2048-bit)\n * - Public keys are stored in localStorage (knownHostsStrings)\n * - Private keys are stored encrypted in localStorage\n * - Identity = name + \"|\" + publicKeyString\n * \n * Trust Levels:\n * - reject: Do not connect\n * - promptandtrust: Prompt user, then trust if challenge passes\n * - connectandprompt: Connect first, then prompt to trust\n * - connectandtrust: Connect and automatically trust\n * \n * Trust Modes (pre-configured trust level mappings):\n * - strict: Only auto-trust \"the one and only\" known peers\n * - moderate: Trust known peers and aliases, prompt for others\n * - lax: Trust most cases, prompt only for suspicious ones\n * - unsafe: Trust everyone (not recommended)\n * - rejectall: Reject all connections\n * \n * User Categories (automatic detection):\n * - theoneandonly: Known key and name match perfectly\n * - knownwithknownaliases: Known key, but also known by other names\n * - possiblenamechange: Known key, but different name\n * - possiblesharedpubkey: Known key with multiple other names\n * - nameswapcollision: Suspicious name/key mismatch\n * - pretender: Unknown key using a known name\n * - nevermet: Completely new peer\n * \n * Challenge/Response Flow:\n * 1. When connecting, peers exchange public keys via MQTT\n * 2. After WebRTC connection, challenge is sent via RTC\n * 3. Peer signs challenge with private key\n * 4. Signature is verified using stored public key\n * 5. If valid, peer is added to validatedPeers list\n * \n * Methods:\n * - trust(peerName): Trust a peer and save their public key\n * - challenge(peerName): Challenge a peer to prove identity\n * - untrust(peerName): Remove trust and disconnect\n * - register(identity): Register a peer's identity (name|publicKey)\n * - reset(): Clear all keys and known hosts\n * \n * @module signed-mqtt-rtc\n */\n\nimport { MQTTRTCClient } from \"./mqtt-rtc-client.js\";\nimport { RTCConfig } from \"../config/rtc-config.js\";\nimport { Keys } from \"../crypto/keys.js\";\n\nlet trustLevels = {\n    reject: 0, // do not even connect\n    promptandtrust: 1, // prompt whether to connect and then trust (assuming they pass the challenge)\n    connectandprompt: 2, // connect and then prompt whether to trust\n    connectandtrust: 3 // connect and trust\n}\n\nlet suspicionLevels = {\n        trusted: 0,\n        nonsuspicious: 1,\n        slightlyodd: 2,\n        odd: 3,\n        veryodd: 4\n    }\n\nclass SignedMQTTRTCClient extends MQTTRTCClient {\n    constructor(userConfig) {\n        userConfig = userConfig || {};\n        \n        // Extract config values\n        const config = userConfig instanceof RTCConfig ? userConfig : new RTCConfig(userConfig);\n        const configObj = config.getConfig();\n        const generate = userConfig.generate !== false;\n        const load = configObj.load !== false;\n        const trustMode = userConfig.trustMode || configObj.trustMode || \"strict\";\n        const name = config.name;\n        const autoAcceptConnections = configObj.connection?.autoAcceptConnections ?? false;\n\n        // Prepare config for parent (don't pass load flag, we'll handle it)\n        super({ ...userConfig, load: false });\n        \n        // Get name from config or use the one we extracted\n        const finalName = name || (this.name ? this.name.split('(')[0] : 'User');\n        \n        // Initialize keys with storage adapter and crypto from config\n        const storage = this.storage || (typeof localStorage !== 'undefined' ? {\n          getItem: (key) => localStorage.getItem(key),\n          setItem: (key, value) => localStorage.setItem(key, value),\n          removeItem: (key) => localStorage.removeItem(key)\n        } : null);\n        \n        // Get crypto from config\n        const crypto = configObj.crypto || (typeof window !== 'undefined' && window.crypto ? window.crypto : null);\n        \n        this.keys = new Keys(finalName, generate, { storage, crypto });\n        this.validatedPeers = [];\n\n        // Set up trust configuration\n        if (trustMode === undefined) {trustMode = \"strict\";}\n        if (this.trustConfigs[trustMode]){\n            this.trustConfig = this.trustConfigs[trustMode];\n        }else{\n            this.trustConfig = trustMode;\n        }\n        if (!this.trustConfig || Object.keys(this.userCategories).map((category) => this.trustConfig[category]).some((level) => level === undefined)){\n            throw new Error(\"Invalid trust mode\");\n        }\n        this.completeUserInfo = {};\n\n        this.shouldConnectToUser = this.shouldConnectToUser.bind(this);\n        this.checkTrust = this.checkTrust.bind(this);\n        this._getFullUserInfo = this._getFullUserInfo.bind(this);\n\n        this.trust = this.trust.bind(this);\n        this.register = this.register.bind(this);\n        this.challenge = this.challenge.bind(this);\n        this.untrust = this.untrust.bind(this);\n        \n        // Store auto-accept setting\n        this.autoAcceptConnections = autoAcceptConnections;\n\n        this.addQuestionHandler('identify', this._returnPublicKey.bind(this));\n        this.addQuestionHandler('challenge', this._sign.bind(this));\n        this.on('connectedtopeer', (peerName)=>{\n            // Only validate if not already validated to prevent infinite loops\n            if (!this.validatedPeers.includes(peerName)) {\n                setTimeout(()=> {this.trustOrChallenge.bind(this)(peerName)}, 1000);\n            }\n        });\n\n        if (load) {\n            this.keys.loadedPromise.then(() => {\n                this.userInfo.publicKeyString = this.keys.publicKeyString;\n                this.load();\n            });\n        }\n    }\n    verifyUser(channel, data, peerName) {\n        console.log(\"Verifying user\", channel, data, peerName, this.validatedPeers);\n        if ([\"question\", \"answer\"].includes(channel) && [\"identify\", \"challenge\"].includes(data.question.topic)) {\n            return true;\n        }\n        return this.validatedPeers.includes(peerName);\n    }\n\n    _getFullUserInfo(peerName, userInfo) {\n        let _bareName = peerName.split('|')[0].split('(')[0].trim();\n        if (_bareName.startsWith(\"anon\")) {\n            return {\n                peerName: peerName,\n                bareName: _bareName,\n                userInfo: userInfo,\n                providedPubKey: false,\n                knownPubKey: false,\n                knownName: false,\n                otherNamesForPubKey: [],\n                otherPubKeyForName: null,\n                completedChallenge: false,\n                explanation: \"anonymous\",\n                suspiciousness: suspicionLevels.nonsuspicious,\n                category: \"nevermet\",\n                hint: \"anon\"\n            }\n        }\n        let providedPubKey = !!userInfo.publicKeyString;\n        let peerNames = providedPubKey?this.keys.getPeerNames(userInfo.publicKeyString):[];\n        let _opk = this.keys.getPublicKeyString(_bareName);\n        let info = {\n            peerName: peerName,\n            bareName: _bareName,\n            userInfo: userInfo,\n            providedPubKey: providedPubKey,\n            knownPubKey: (peerNames.length > 0), // bool of whether the public key is known\n            knownName: peerNames.includes(_bareName), // bool of whether the public key is known under the name provided\n            otherNamesForPubKey: peerNames.filter((name) => name !== _bareName), // array of other names the public key is known under as well (if any)\n            otherPubKeyForName: (_opk && (_opk !== userInfo.publicKeyString)) ? _opk : null, // public key string for the name provided (if different from the public key string provided)\n            completedChallenge: false // bool of whether the challenge has been completed\n        }\n        let category = this.categorizeUser(info);\n        info.explanation = category.explanation;\n        info.suspiciousness = category.suspiciousness;\n        info.category = category.category;\n\n        let hint = '';\n        if (info.category === 'theoneandonly'){\n            hint = '';\n        }else if (['knownwithknownaliases', 'possiblenamechange', 'possiblesharedpubkey'].includes(info.category)){\n            hint = ` who is known as ${info.otherNamesForPubKey.join(', ')}`;\n        }else if (info.category === 'nameswapcollision'){\n            hint = `it appears ${info.otherNamesForPubKey[0]} (who you know) is using ${peerName}'s public key to impersonate them'`;\n        }else if (info.category === 'pretender'){\n            hint = ` who is pretending to be ${info.otherNamesForPubKey[0]}`;\n        }else if (info.category === 'nevermet'){\n            hint = ` who you have not met`;\n        }\n        hint = hint? ` (${hint})`: '';\n        info.hint = hint;\n\n        return info\n    }\n\n    shouldConnectToUser(peerName, userInfo) {\n        console.log(\"Checking if we should connect to user\", peerName, userInfo);\n        let info = this._getFullUserInfo(peerName, userInfo);\n        console.log(\"info\", info)\n        let trustLevel = this.checkTrust(info);\n\n        info.trustLevel = trustLevel;\n        info.trustLevelString = Object.keys(this.trustLevels).find((key) => this.trustLevels[key] === trustLevel);\n\n        if (this.completeUserInfo[peerName] && this.isConnectedToUser(peerName)) {\n            console.warn(\"Rejecting connection to \" + peerName + \" because we are already connected to someone with that name\");\n            return Promise.resolve(false);\n        }\n        this.completeUserInfo[peerName] = info;\n\n        if (trustLevel === trustLevels.reject) {\n            console.error(\"Rejecting connection to \" + peerName);\n            return Promise.resolve(false);\n        }else if ([trustLevels.doubleprompt, trustLevels.promptandtrust].includes(trustLevel)) {\n            return this.connectionrequest(peerName, info).then((connect) => {\n                if (connect) {\n                    console.log(\"Decided to connect to \" + peerName);\n                }else{\n                    console.log(\"Decided not to connect to \" + peerName);\n                }\n                return connect;\n            }, (e)=> {console.log(\"Error in connection request\", e); return false});\n        }else{\n            console.log(\"will connect to \" + peerName);\n            return Promise.resolve(true);\n        }\n    }\n    trustLevels = trustLevels\n    suspicionLevels = suspicionLevels\n    userCategories = {\n        theoneandonly: {knownPubKey: true, knownName: true, otherNamesForPubKey: false, otherPubKeyForName: false,\n            explanation: \"you know this person by the public key provided and don't now anyone else by this name or public key\",\n            suspiciousness: suspicionLevels.trusted,\n            category: \"theoneandonly\"\n        },\n        knownwithknownaliases: {knownPubKey: true, knownName: true, otherNamesForPubKey: true, otherPubKeyForName: false,\n            explanation: \"you know this person by the public key provided, but you also know them by other names\",\n            suspiciousness: suspicionLevels.slightlyodd,\n            category: \"knownwithknownaliases\"\n        },\n        possiblenamechange: {knownPubKey: true, knownName: false, otherNamesForPubKey: 1, otherPubKeyForName: false,\n            explanation: \"you recognize the public key but know it by a different name\",\n            suspiciousness: suspicionLevels.slightlyodd,\n            category: \"possiblenamechange\"\n        },\n        possiblesharedpubkey: {knownPubKey: true, knownName: false, otherNamesForPubKey: true, otherPubKeyForName: false,\n            explanation: \"you recognize the public key but know it by more than one other name\",\n            suspiciousness: suspicionLevels.slightlyodd,\n            category: \"possiblesharedpubkey\"\n        },\n        nameswapcollision: {knownPubKey: true, knownName: false, otherNamesForPubKey: true, otherPubKeyForName: true,\n            explanation: \"someone you know tried to change their name to the name of someone else you know\",\n            suspiciousness: suspicionLevels.odd,\n            category: \"nameswapcollision\"\n        },\n        //___________________________________________________________________________________\n        pretender: {knownPubKey: false, knownName: false, otherNamesForPubKey: false, otherPubKeyForName: true,\n            explanation: \"someone you don't know is using the name of someone you do know\",\n            suspiciousness: suspicionLevels.veryodd,\n            category: \"pretender\"\n        },\n        nevermet: {knownPubKey: false, knownName: false, otherNamesForPubKey: false, otherPubKeyForName: false,\n            explanation: \"you don't know anyone with this pub key or name, you probably just haven't met yet\",\n            suspiciousness: suspicionLevels.notsuspicious,\n            category: \"nevermet\"\n        }\n    }\n\n\n    trustConfigs = {\n        alwaysprompt: {\n            theoneandonly: trustLevels.promptandtrust,\n            knownwithknownaliases: trustLevels.promptandtrust,\n            possiblenamechange: trustLevels.promptandtrust,\n            possiblesharedpubkey: trustLevels.promptandtrust,\n            nameswapcollision: trustLevels.promptandtrust,\n            pretender: trustLevels.promptandtrust,\n            nevermet: trustLevels.promptandtrust\n        },\n        strict: {\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.promptandtrust,\n            possiblenamechange: trustLevels.promptandtrust,\n            possiblesharedpubkey: trustLevels.promptandtrust,\n            nameswapcollision: trustLevels.promptandtrust,\n            pretender: trustLevels.promptandtrust,\n            nevermet: trustLevels.promptandtrust\n        },\n        strictandquiet: {\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.reject,\n            possiblenamechange: trustLevels.reject,\n            possiblesharedpubkey: trustLevels.reject,\n            nameswapcollision: trustLevels.reject,\n            pretender: trustLevels.reject,\n            nevermet: trustLevels.promptandtrust\n        },\n        moderate: {\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.connectandtrust,\n            possiblenamechange: trustLevels.connectandtrust,\n            possiblesharedpubkey: trustLevels.connectandtrust,\n            nameswapcollision: trustLevels.promptandtrust,\n            pretender: trustLevels.promptandtrust,\n            nevermet: trustLevels.promptandtrust\n        },\n        moderateandquiet: {\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.connectandtrust,\n            possiblenamechange: trustLevels.connectandtrust,\n            possiblesharedpubkey: trustLevels.connectandtrust,\n            nameswapcollision: trustLevels.reject,\n            pretender: trustLevels.reject,\n            nevermet: trustLevels.promptandtrust\n        },\n        lax: {\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.connectandtrust,\n            possiblenamechange: trustLevels.connectandtrust,\n            possiblesharedpubkey: trustLevels.connectandtrust,\n            nameswapcollision: trustLevels.promptandtrust,\n            pretender: trustLevels.promptandtrust,\n            nevermet: trustLevels.connectandtrust\n        },\n        unsafe:{\n            theoneandonly: trustLevels.connectandtrust,\n            knownwithknownaliases: trustLevels.connectandtrust,\n            possiblenamechange: trustLevels.connectandtrust,\n            possiblesharedpubkey: trustLevels.connectandtrust,\n            nameswapcollision: trustLevels.connectandtrust,\n            pretender: trustLevels.connectandtrust,\n            nevermet: trustLevels.connectandtrust\n        },\n        rejectall: {\n            theoneandonly: trustLevels.reject,\n            knownwithknownaliases: trustLevels.reject,\n            possiblenamechange: trustLevels.reject,\n            possiblesharedpubkey: trustLevels.reject,\n            nameswapcollision: trustLevels.reject,\n            pretender: trustLevels.reject,\n            nevermet: trustLevels.reject\n        }\n    }\n    categorizeUser(info){\n        if (info.knownPubKey){// we know this pubkey\n            if (info.knownName) { // we know this pubkey by this name (but maybe other names too?)\n                if (info.otherPubKeyForName) {\n                    throw new Error(\"knownName should mean that this name matches the pubkey so therefore otherPubKeyForName should be null\");\n                }else{ // we don't know of any other pubkeys for this name\n                    if (info.otherNamesForPubKey.length === 0) { // we don't know of any other names for this pubkey\n                        return this.userCategories.theoneandonly;\n                    }else{ // we know of other names for this pubkey (and we know this name as well)\n                        return this.userCategories.knownwithknownaliases;\n                    }\n                }\n            }else{ // we know this pubkey but not by this name\n                if (info.otherNamesForPubKey.length === 0) {\n                    throw new Error(\"knownPubKey should mean that this pubkey matches at least one name so if knownName is false then there should be at least one other name for this pubkey\");\n                }else if (info.otherNamesForPubKey.length === 1) { // we know this pubkey by one other name\n                    if (info.otherPubKeyForName) {\n                        return this.userCategories.nameswapcollision; // we know this pubkey by one other name and we know another pubkey by this name : VERY SUSPICIOUS\n                    }else{\n                        return this.userCategories.possiblenamechange; // we know this pubkey by one other name and we don't know another pubkey by this name\n                    }\n                }else{// we know this pubkey by more than one other name\n                    if (info.otherPubKeyForName) {\n                        return this.userCategories.nameswapcollision; // we know this pubkey by more than one other name and we know another pubkey by this name : VERY SUSPICIOUS\n                    }else{\n                        return this.userCategories.possiblesharedpubkey; // we know this pubkey by more than one other name and we don't know another pubkey by this name\n                    }\n                }\n            }\n        }else{\n            if (info.otherPubKeyForName) {\n                return this.userCategories.pretender;\n            }else{\n                return this.userCategories.nevermet;\n            }\n        }\n    }\n\n    checkTrust({peerName, bareName, userInfo, providedPubKey, peerNames, knownPubKey, knownName, otherNamesForPubKey, otherPubKeyForName, completedChallenge,\n        explanation, suspiciousness, category}) {\n        console.log(\"Checking trust for \" + peerName, category, this.trustConfig)\n        return this.trustConfig[category];\n    }\n    connectionrequest(peerName, info) {\n        // If auto-accept is enabled, automatically accept\n        if (this.autoAcceptConnections) {\n            console.log(\"Auto-accepting connection request from\", peerName);\n            return Promise.resolve(true);\n        }\n        \n        // Otherwise, prompt whether to connect to a peer\n        // This can be overridden by listening to the 'connectionrequest' event\n        let answer = confirm(\"Do you want to connect to \" + peerName + \"?\");\n        return Promise.resolve(answer);\n    }\n    trustOrChallenge(peerName) {\n        this.keys.getPublicKey(peerName).then((publicKey) => {\n            if (!publicKey) {\n                console.log(\"No public key found for \" + peerName);\n                let info = this.completeUserInfo[peerName];\n                \n                // If info doesn't exist, create it with default values\n                if (!info) {\n                    info = this._getFullUserInfo(peerName, {});\n                    const trustLevel = this.checkTrust(info);\n                    info.trustLevel = trustLevel;\n                    info.trustLevelString = Object.keys(this.trustLevels).find((key) => this.trustLevels[key] === trustLevel);\n                    this.completeUserInfo[peerName] = info;\n                }\n                \n                const trustLevel = info.trustLevel;\n\n                if ([this.trustLevels.reject].includes(trustLevel)) {\n                    console.error(\"Rejecting connection to \" + peerName);\n                    this.untrust(peerName);\n                    return;\n                }else if ([this.trustLevels.connectandprompt].includes(trustLevel)) {\n                    this.connectionrequest(peerName, info).then((connect) => {\n                        if (connect) {\n                            this.trust(peerName);\n                        }else{\n                            this.untrust(peerName);\n                        }\n                    });\n                    return;\n                }else if ([this.trustLevels.promptandtrust, this.trustLevels.connectandtrust].includes(trustLevel)) {\n                    this.trust(peerName);\n                }\n            }else{\n                this.challenge(peerName);\n            }\n        });\n    }\n    _returnPublicKey(challenge, senderName) {\n        console.log(\"Challenge received from \" + senderName);\n        return this.keys.sign(challenge).then((signature) => {\n            let answer =  {publicKeyString: this.keys.publicKeyString, signature: signature};\n            console.log(\"Returning public key to \" + senderName, answer);\n            return answer;\n        });\n    }\n    reset(){\n        this.keys.reset();\n        this.validatedPeers = [];\n    }\n    trust(peerName){\n        /* trust a peer, assuming they give you a public key they are abe to sign, save that public key to their name */\n        let oldPublicKeyString = this.keys.getPublicKeyString(peerName);\n        let challengeString = this.keys.getChallengeString();\n        return this.sendRTCQuestion(\"identify\", challengeString, peerName).then(({publicKeyString, signature}) => {\n             if (oldPublicKeyString && (oldPublicKeyString !== publicKeyString)) {\n                console.error(\"Public key changed for \" + peerName, oldPublicKeyString, publicKeyString);\n                throw new Error(\"Public key changed for \" + peerName);\n            }\n            return this.keys.verify(publicKeyString, signature, challengeString).then((valid) => {\n                if (valid) {\n                    console.log(\"Signature valid for \" + peerName + \", trusting and saving public key\");\n                    // Check if this public key is already registered to a different name\n                    const existingPeers = this.keys.getPeerNames(publicKeyString);\n                    if (existingPeers.length > 0 && !existingPeers.includes(peerName)) {\n                        // Public key is registered to a different name - update the mapping\n                        console.log(\"Public key already registered to\", existingPeers, \"updating to\", peerName);\n                        // Remove old name mappings\n                        existingPeers.forEach(oldName => {\n                            delete this.keys._knownHostsStrings[oldName];\n                        });\n                        // Update storage after removing old mappings\n                        if (this.keys.storage) {\n                            this.keys.storage.setItem(\"knownHostsStrings\", JSON.stringify(this.keys._knownHostsStrings));\n                        }\n                    }\n                    this.keys.savePublicKeyString(peerName, publicKeyString);\n                    // Only add to validatedPeers if not already there (prevent duplicates)\n                    if (!this.validatedPeers.includes(peerName)) {\n                        this.validatedPeers.push(peerName);\n                        this.onValidatedPeer(peerName, true);\n                    }\n                    return true;\n                } else {\n                    console.error(\"Signature invalid for \" + peerName);\n                    this.untrust(peerName);\n                    this.onValidationFailed(peerName);\n                    return false;\n                }\n            });\n        })\n    }\n\n    challenge(peerName) {\n        /* challenge a peer to prove they have the private key corresponding to the public key you have saved for them */\n        let publicKeyString = this.keys.getPublicKeyString(peerName);\n        let challengeString = this.keys.getChallengeString();\n        return this.sendRTCQuestion(\"challenge\", challengeString, peerName).then((signature) => {\n            return this.keys.verify(publicKeyString, signature, challengeString).then((valid) => {\n                console.log(\"Signature valid for \" + peerName, valid);\n                // Only add to validatedPeers if not already there (prevent duplicates)\n                if (!this.validatedPeers.includes(peerName)) {\n                    this.validatedPeers.push(peerName);\n                    console.log(\"Validated peers\", this.validatedPeers);\n                    this.onValidatedPeer(peerName);\n                }\n\n                return valid;\n            }, (err) => {\n                console.error(\"Error verifying signature of \"+ peerName, err);\n                this.untrust(peerName);\n                this.onValidationFailed(peerName);\n                throw err;\n            });\n        });\n    }\n    on(event, callback) {\n        if (event === \"connectionrequest\"){\n            this.connectionrequest = callback;\n            return super.on(event, callback);\n        }else{\n            return super.on(event, callback);\n        }\n    }\n\n    onValidatedPeer(peerName, trusting=false) {\n        if (trusting) {\n            console.log(\"Trusting peer \" + peerName + \" is who they say they are.\");\n        }\n        console.log(\"Peer \" + peerName + \" validated\");\n        this.emit('validation', peerName, trusting);\n        // Don't emit connectedtopeer here - it causes infinite loops\n        // ChatManager now listens to 'validation' events to add users after validation\n    }\n    onValidationFailed(peerName, message) {\n        console.error(\"Peer \" + peerName + \" validation failed\" + (message ? \": \" + message : \"\"));\n        this.emit('validationfailure', peerName, message);\n    }\n    untrust(peerName) {\n        /* remove a public key from a peer */\n\n        this.keys.removePublicKey(peerName);\n        console.error(\"Untrusting peer \" + peerName, this.validatedPeers);\n        if (this.validatedPeers.includes(peerName)) {\n            this.validatedPeers = this.validatedPeers.filter((name) => name !== peerName);\n        }\n        console.error(\"Disconnecting from untrusted peer \" + peerName, this.validatedPeers);\n        this.disconnectFromUser(peerName);\n    }\n    _sign(challengeString, peerName) {return this.keys.sign(challengeString);}\n    register(identity) {return this.keys.register(identity);}\n}\n\nexport { SignedMQTTRTCClient };\n\n\n","/**\n * CallState - Platform-agnostic, UI-agnostic call state management\n * \n * This module provides a structured way to track call state per user.\n * State can be: inactive, active, or pending\n * Each state can have audio and/or video capabilities.\n * \n * Usage:\n *   import { CallState } from './call-state.js';\n *   \n *   const callState = new CallState();\n *   callState.setUserState('user1', {status: 'active', audio: true, video: true});\n *   const state = callState.getUserState('user1');\n *   // {status: 'active', audio: true, video: true}\n * \n * @module call-state\n */\n\nclass CallState {\n  /**\n   * Create a new CallState instance\n   */\n  constructor() {\n    // Map<user, {status: 'inactive'|'active'|'pending', audio: boolean, video: boolean}>\n    this._userStates = new Map();\n  }\n\n  /**\n   * Set call state for a user\n   * @param {string} user - User name\n   * @param {Object} state - State object {status: string, audio: boolean, video: boolean}\n   */\n  setUserState(user, state) {\n    if (!user) {\n      throw new Error('User name is required');\n    }\n    \n    const normalizedState = {\n      status: state.status || 'inactive',\n      audio: state.audio === true,\n      video: state.video === true\n    };\n    \n    // Validate status\n    if (!['inactive', 'active', 'pending'].includes(normalizedState.status)) {\n      throw new Error(`Invalid status: ${normalizedState.status}. Must be 'inactive', 'active', or 'pending'`);\n    }\n    \n    this._userStates.set(user, normalizedState);\n  }\n\n  /**\n   * Get call state for a user\n   * @param {string} user - User name\n   * @returns {Object|null} State object {status: string, audio: boolean, video: boolean} or null if not found\n   */\n  getUserState(user) {\n    if (!user) {\n      return null;\n    }\n    const state = this._userStates.get(user);\n    return state ? { ...state } : null;\n  }\n\n  /**\n   * Get all users with a specific status\n   * @param {string} status - Status to filter by ('inactive', 'active', or 'pending')\n   * @returns {Array<string>} Array of user names\n   */\n  getUsersByStatus(status) {\n    if (!['inactive', 'active', 'pending'].includes(status)) {\n      throw new Error(`Invalid status: ${status}. Must be 'inactive', 'active', or 'pending'`);\n    }\n    \n    const users = [];\n    for (const [user, state] of this._userStates.entries()) {\n      if (state.status === status) {\n        users.push(user);\n      }\n    }\n    return users;\n  }\n\n  /**\n   * Get all active calls (grouped by audio/video)\n   * @returns {Object} {audio: Set<string>, video: Set<string>}\n   */\n  getActiveCalls() {\n    const audio = new Set();\n    const video = new Set();\n    \n    for (const [user, state] of this._userStates.entries()) {\n      if (state.status === 'active') {\n        if (state.audio) {\n          audio.add(user);\n        }\n        if (state.video) {\n          video.add(user);\n        }\n      }\n    }\n    \n    return { audio, video };\n  }\n\n  /**\n   * Get all pending calls\n   * @returns {Set<string>} Set of user names with pending calls\n   */\n  getPendingCalls() {\n    return new Set(this.getUsersByStatus('pending'));\n  }\n\n  /**\n   * Get all users with active or pending calls\n   * @returns {Set<string>} Set of user names\n   */\n  getActiveOrPendingCalls() {\n    const users = new Set();\n    for (const [user, state] of this._userStates.entries()) {\n      if (state.status === 'active' || state.status === 'pending') {\n        users.add(user);\n      }\n    }\n    return users;\n  }\n\n  /**\n   * Check if a user has an active call\n   * @param {string} user - User name\n   * @returns {boolean} True if user has an active call\n   */\n  hasActiveCall(user) {\n    const state = this.getUserState(user);\n    return state && state.status === 'active';\n  }\n\n  /**\n   * Check if a user has a pending call\n   * @param {string} user - User name\n   * @returns {boolean} True if user has a pending call\n   */\n  hasPendingCall(user) {\n    const state = this.getUserState(user);\n    return state && state.status === 'pending';\n  }\n\n  /**\n   * Remove state for a user\n   * @param {string} user - User name\n   */\n  removeUser(user) {\n    this._userStates.delete(user);\n  }\n\n  /**\n   * Clear all states\n   */\n  clear() {\n    this._userStates.clear();\n  }\n\n  /**\n   * Get all states (for debugging/inspection)\n   * @returns {Map} Map of user -> state\n   */\n  getAllStates() {\n    return new Map(this._userStates);\n  }\n}\n\nexport { CallState };\n\n","/**\n * CallManager - Platform-agnostic call state and business logic management\n * \n * This class manages all call-related business logic without any UI dependencies.\n * It tracks call state, manages mute states, handles timeouts, and collects statistics.\n * \n * Usage:\n *   import { CallManager } from './call-manager.js';\n *   import { EventEmitter } from './event-emitter.js';\n *   \n *   const callManager = new CallManager(rtcClient);\n *   callManager.on('callstarted', (user, type) => { ... });\n *   callManager.on('callended', (user) => { ... });\n *   callManager.on('mutechanged', ({mic, speakers, video}) => { ... });\n *   \n *   // Start a call\n *   await callManager.startCall(user, 'audio');\n *   \n *   // Mute/unmute\n *   callManager.setMicMuted(true);\n *   callManager.setSpeakersMuted(true);\n *   callManager.setVideoHidden(true);\n * \n * Features:\n * - Call state tracking (active calls, pending calls, outgoing calls)\n * - Mute state management (mic, speakers, video)\n * - Call timeout handling\n * - Connection statistics collection\n * - Event-driven architecture\n * \n * @module call-manager\n */\n\nimport { EventEmitter } from '../utils/event-emitter.js';\nimport { CallState } from './call-state.js';\n\nclass CallManager extends EventEmitter {\n  /**\n   * Create a new CallManager instance\n   * @param {Object} rtcClient - RTC client instance (MQTTRTCClient or similar)\n   * @param {Object} options - Configuration options\n   * @param {number} options.callTimeout - Call timeout in milliseconds (default: 15000)\n   * @param {number} options.statsPollInterval - Stats polling interval in milliseconds (default: 2000)\n   * @param {CallUIInterface} options.callUI - Optional call UI component implementing CallUIInterface\n   * @param {StreamDisplayInterface} options.videoDisplay - Optional video display component\n   * @param {StreamDisplayInterface} options.audioDisplay - Optional audio display component\n   * @param {AudioControllerInterface} options.audioController - Optional audio controller\n   * @param {VideoControllerInterface} options.videoController - Optional video controller\n   * @param {RingerInterface} options.ringer - Optional ringtone component\n   * @param {NotificationInterface} options.notifications - Optional notification component\n   */\n  constructor(rtcClient, options = {}) {\n    super();\n    \n    this.rtcClient = rtcClient;\n    this.options = {\n      callTimeout: options.callTimeout || 15000,\n      statsPollInterval: options.statsPollInterval || 2000,\n      ...options\n    };\n    \n    // Optional UI components\n    this.callUI = options.callUI || null;\n    this.videoDisplay = options.videoDisplay || null;\n    this.audioDisplay = options.audioDisplay || null;\n    this.audioController = options.audioController || null;\n    this.videoController = options.videoController || null;\n    this.ringer = options.ringer || null;\n    this.notifications = options.notifications || null;\n    \n    // Unified call state tracking (platform-agnostic, UI-agnostic)\n    this.callState = new CallState();\n    \n    // Additional metadata tracking (not part of core state)\n    this.pendingCalls = new Map(); // Map<user, {callInfo, promises, timeoutId, promptElement}>\n    this.outgoingCalls = new Map(); // Map<user, {type, cancelFn, timeoutId}>\n    this.localStreams = new Map(); // Map<user, MediaStream>\n    \n    // Mute state\n    this.muteState = {\n      mic: false,\n      speakers: false,\n      video: false\n    };\n    \n    // Statistics\n    this.statsInterval = null;\n    this.latencyMetrics = new Map(); // Map<user, {rtt, packetLoss, jitter}>\n    \n    // Bind methods\n    this._handleIncomingCall = this._handleIncomingCall.bind(this);\n    this._handleCallConnected = this._handleCallConnected.bind(this);\n    this._handleCallEnded = this._handleCallEnded.bind(this);\n    \n    // Setup RTC client event listeners if available\n    if (rtcClient) {\n      this._setupRTCEventListeners();\n    }\n  }\n\n  /**\n   * Setup event listeners on RTC client\n   * @private\n   */\n  _setupRTCEventListeners() {\n    if (this.rtcClient.on) {\n      this.rtcClient.on('call', this._handleIncomingCall);\n      this.rtcClient.on('callconnected', this._handleCallConnected);\n      this.rtcClient.on('callended', this._handleCallEnded);\n      this.rtcClient.on('disconnectedfrompeer', (user) => {\n        this._handleDisconnectedFromUser(user);\n      });\n    }\n  }\n\n  /**\n   * Handle incoming call from RTC client\n   * @param {string} peerName - Name of the peer calling\n   * @param {Object} callInfo - Call information {video: boolean, audio: boolean}\n   * @param {Object} promises - Call promises {start: Promise, end: Promise}\n   * @returns {Promise} Promise that resolves to acceptance result\n   * @private\n   */\n  _handleIncomingCall(peerName, callInfo, promises) {\n    console.log('CallManager._handleIncomingCall called', { peerName, callInfo, hasRinger: !!this.ringer });\n    \n    // Set up timeout for unanswered call\n    const timeoutId = setTimeout(() => {\n      this._handleCallTimeout(peerName, 'incoming');\n    }, this.options.callTimeout);\n    \n    // Track pending call\n    this.pendingCalls.set(peerName, {\n      callInfo,\n      promises,\n      timeoutId,\n      promptElement: null // UI can set this\n    });\n    \n    // Update unified call state\n    this.callState.setUserState(peerName, {\n      status: 'pending',\n      audio: callInfo.audio !== false, // Default to true if not specified\n      video: callInfo.video === true\n    });\n    \n    // Start ringing if ringer is provided\n    if (this.ringer && typeof this.ringer.start === 'function') {\n      console.log('Starting ringtone...');\n      this.ringer.start().catch(err => {\n        console.error('Could not start ringtone:', err);\n      });\n    } else {\n      console.warn('No ringer available or ringer.start is not a function', { \n        hasRinger: !!this.ringer, \n        ringerType: this.ringer ? typeof this.ringer : 'undefined',\n        hasStart: this.ringer ? typeof this.ringer.start : 'N/A'\n      });\n    }\n    \n    // Emit event for UI to handle\n    this.emit('incomingcall', {\n      peerName,\n      callInfo,\n      promises,\n      timeoutId\n    });\n    \n    // Use callUI if provided, otherwise auto-accept\n    if (this.callUI && typeof this.callUI.showIncomingCallPrompt === 'function') {\n      return this.callUI.showIncomingCallPrompt(peerName, callInfo);\n    }\n    \n    // Default: auto-accept\n    return Promise.resolve(true);\n  }\n\n  /**\n   * Handle call connected event\n   * @param {string} sender - Name of the peer\n   * @param {Object} streams - Stream objects {localStream, remoteStream}\n   * @private\n   */\n  _handleCallConnected(sender, {localStream, remoteStream}) {\n    // Clear timeout\n    const pendingCall = this.pendingCalls.get(sender);\n    if (pendingCall && pendingCall.timeoutId) {\n      clearTimeout(pendingCall.timeoutId);\n      pendingCall.timeoutId = null;\n    }\n    this.pendingCalls.delete(sender);\n    \n    // Stop ringing if ringer is provided\n    if (this.ringer && typeof this.ringer.stop === 'function') {\n      this.ringer.stop();\n    }\n    \n    // Determine call type\n    const hasVideo = localStream?.getVideoTracks().length > 0 || \n                     remoteStream?.getVideoTracks().length > 0;\n    const hasAudio = localStream?.getAudioTracks().length > 0 || \n                     remoteStream?.getAudioTracks().length > 0;\n    \n    // Store local stream\n    if (localStream instanceof MediaStream) {\n      this.localStreams.set(sender, localStream);\n    }\n    \n    // Update unified call state\n    this.callState.setUserState(sender, {\n      status: 'active',\n      audio: hasAudio,\n      video: hasVideo\n    });\n    \n    // Start stats polling if not already started\n    const activeCalls = this.callState.getActiveCalls();\n    if (!this.statsInterval && (activeCalls.video.size > 0 || activeCalls.audio.size > 0)) {\n      this._startStatsPolling();\n    }\n    \n    // Emit event\n    this.emit('callconnected', {\n      sender,\n      localStream,\n      remoteStream,\n      type: hasVideo ? 'video' : 'audio'\n    });\n    \n    // Use stream displays if provided\n    if (hasVideo && this.videoDisplay && typeof this.videoDisplay.setStreams === 'function') {\n      this.videoDisplay.setStreams(sender, { localStream, remoteStream });\n    } else if (hasAudio && this.audioDisplay && typeof this.audioDisplay.setStreams === 'function') {\n      this.audioDisplay.setStreams(sender, { localStream, remoteStream });\n    }\n  }\n\n  /**\n   * Handle call ended event\n   * @param {string} peerName - Name of the peer\n   * @private\n   */\n  _handleCallEnded(peerName) {\n    // Clear timeouts\n    const pendingCall = this.pendingCalls.get(peerName);\n    if (pendingCall && pendingCall.timeoutId) {\n      clearTimeout(pendingCall.timeoutId);\n    }\n    this.pendingCalls.delete(peerName);\n    \n    const outgoingCall = this.outgoingCalls.get(peerName);\n    if (outgoingCall && outgoingCall.timeoutId) {\n      clearTimeout(outgoingCall.timeoutId);\n    }\n    this.outgoingCalls.delete(peerName);\n    \n    // Update unified call state\n    this.callState.setUserState(peerName, {\n      status: 'inactive',\n      audio: false,\n      video: false\n    });\n    \n    this.localStreams.delete(peerName);\n    this.latencyMetrics.delete(peerName);\n    \n    // Stop stats polling if no active calls\n    const activeCalls = this.callState.getActiveCalls();\n    if (activeCalls.video.size === 0 && activeCalls.audio.size === 0) {\n      this._stopStatsPolling();\n      // Reset mute states\n      this.muteState = { mic: false, speakers: false, video: false };\n    }\n    \n    // Emit event\n    this.emit('callended', { peerName });\n  }\n\n  /**\n   * Handle call timeout\n   * @param {string} peerName - Name of the peer\n   * @param {string} direction - 'incoming' or 'outgoing'\n   * @private\n   */\n  _handleCallTimeout(peerName, direction) {\n    // Clear pending/outgoing call\n    this.pendingCalls.delete(peerName);\n    this.outgoingCalls.delete(peerName);\n    \n    // End call with RTC client\n    if (this.rtcClient && this.rtcClient.endCallWithUser) {\n      try {\n        this.rtcClient.endCallWithUser(peerName);\n      } catch (err) {\n        console.warn(`Error ending timed out call:`, err);\n      }\n    }\n    \n    // Update unified call state\n    this.callState.setUserState(peerName, {\n      status: 'inactive',\n      audio: false,\n      video: false\n    });\n    \n    this.localStreams.delete(peerName);\n    this.latencyMetrics.delete(peerName);\n    \n    // Stop ringing if ringer is provided\n    if (this.ringer && typeof this.ringer.stop === 'function') {\n      this.ringer.stop();\n    }\n    \n    // Emit event\n    this.emit('calltimeout', { peerName, direction });\n    \n    // Use callUI if provided\n    if (this.callUI && typeof this.callUI.showMissedCallNotification === 'function') {\n      this.callUI.showMissedCallNotification(peerName, direction);\n    }\n    \n    // Clean up stream displays\n    if (this.videoDisplay && typeof this.videoDisplay.removeStreams === 'function') {\n      this.videoDisplay.removeStreams(peerName);\n    }\n    if (this.audioDisplay && typeof this.audioDisplay.removeStreams === 'function') {\n      this.audioDisplay.removeStreams(peerName);\n    }\n  }\n\n  /**\n   * Handle user disconnection\n   * @param {string} user - Name of the user\n   * @private\n   */\n  _handleDisconnectedFromUser(user) {\n    const userState = this.callState.getUserState(user);\n    const hasActiveOrPendingCall = userState && (userState.status === 'active' || userState.status === 'pending');\n    const hasOutgoingCall = this.outgoingCalls.has(user);\n    \n    if (hasActiveOrPendingCall || hasOutgoingCall) {\n      // End call with disconnected user\n      if (this.rtcClient && this.rtcClient.endCallWithUser) {\n        try {\n          this.rtcClient.endCallWithUser(user);\n        } catch (err) {\n          console.warn(`Error ending call with disconnected user:`, err);\n        }\n      }\n      \n      this._handleCallEnded(user);\n    }\n  }\n\n  /**\n   * Start a call with a user\n   * @param {string} user - Name of the user to call\n   * @param {string} type - 'audio' or 'video'\n   * @returns {Promise} Promise that resolves when call starts\n   */\n  async startCall(user, type) {\n    if (!this.rtcClient || !this.rtcClient.callUser) {\n      throw new Error('RTC client not available or does not support callUser');\n    }\n    \n    const callInfo = type === 'audio' \n      ? { video: false, audio: true }\n      : { video: true, audio: true };\n    \n    // Create cancel function\n    let timeoutId = null;\n    const cancelCall = (reason = 'cancelled') => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n      this.outgoingCalls.delete(user);\n      if (this.rtcClient && this.rtcClient.endCallWithUser) {\n        try {\n          this.rtcClient.endCallWithUser(user);\n        } catch (err) {\n          console.error(`Error canceling call:`, err);\n        }\n      }\n      this.emit('callcancelled', { user, reason });\n    };\n    \n    // Set up timeout\n    timeoutId = setTimeout(() => {\n      this._handleCallTimeout(user, 'outgoing');\n    }, this.options.callTimeout);\n    \n    // Track outgoing call\n    this.outgoingCalls.set(user, {\n      type,\n      cancelFn: cancelCall,\n      timeoutId\n    });\n    \n    try {\n      // Start the call - callUser returns {start, end} promises\n      const { start, end } = this.rtcClient.callUser(user, callInfo);\n      \n      // Await the start promise to get the streams\n      const streamResult = await start;\n      \n      // Clear timeout if call started successfully\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        timeoutId = null;\n      }\n      \n      // If streamResult contains streams, handle them\n      if (streamResult && (streamResult.localStream || streamResult.remoteStream)) {\n        this._handleCallConnected(user, streamResult);\n      }\n      \n      // Emit event\n      this.emit('callstarted', { user, type });\n      \n      // Return the stream result and end promise\n      return { ...streamResult, end };\n    } catch (err) {\n      // Clear timeout\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      this.outgoingCalls.delete(user);\n      \n      // Check if call was rejected\n      if (err === \"Call rejected\" || err?.message === \"Call rejected\") {\n        this.emit('callrejected', { user });\n      } else {\n        this.emit('callerror', { user, error: err });\n      }\n      \n      throw err;\n    }\n  }\n\n  /**\n   * End a call with a user\n   * @param {string} user - Name of the user\n   */\n  endCall(user) {\n    if (this.rtcClient && this.rtcClient.endCallWithUser) {\n      try {\n        this.rtcClient.endCallWithUser(user);\n      } catch (err) {\n        console.error(`Error ending call:`, err);\n      }\n    }\n    \n    // Cleanup will happen via callended event\n  }\n\n  /**\n   * End all active calls\n   */\n  endAllCalls() {\n    const activeCalls = this.callState.getActiveCalls();\n    const pendingCalls = this.callState.getPendingCalls();\n    const allUsers = new Set([...activeCalls.video, ...activeCalls.audio, ...pendingCalls, ...this.outgoingCalls.keys()]);\n    for (const user of allUsers) {\n      this.endCall(user);\n    }\n  }\n\n  /**\n   * Set microphone mute state\n   * @param {boolean} muted - Whether microphone is muted\n   */\n  setMicMuted(muted) {\n    this.muteState.mic = muted;\n    \n    // Update all local streams\n    for (const [user, stream] of this.localStreams.entries()) {\n      if (stream && stream instanceof MediaStream) {\n        const audioTracks = stream.getAudioTracks();\n        audioTracks.forEach(track => {\n          track.enabled = !muted;\n        });\n      }\n    }\n    \n    this.emit('mutechanged', { ...this.muteState });\n  }\n\n  /**\n   * Set speakers mute state\n   * @param {boolean} muted - Whether speakers are muted\n   */\n  setSpeakersMuted(muted) {\n    this.muteState.speakers = muted;\n    \n    // Note: Speakers muting requires UI to handle remote audio/video elements\n    // This just tracks the state and emits event\n    this.emit('mutechanged', { ...this.muteState });\n    this.emit('speakersmutechanged', { muted });\n  }\n\n  /**\n   * Set video hidden state\n   * @param {boolean} hidden - Whether video is hidden\n   */\n  setVideoHidden(hidden) {\n    this.muteState.video = hidden;\n    \n    // Update all local streams\n    for (const [user, stream] of this.localStreams.entries()) {\n      if (stream && stream instanceof MediaStream) {\n        const videoTracks = stream.getVideoTracks();\n        videoTracks.forEach(track => {\n          track.enabled = !hidden;\n        });\n      }\n    }\n    \n    // Use videoController if provided\n    if (this.videoController && typeof this.videoController.setVideoHidden === 'function') {\n      this.videoController.setVideoHidden(hidden, this.localStreams);\n    }\n    \n    this.emit('mutechanged', { ...this.muteState });\n  }\n\n  /**\n   * Get current mute state\n   * @returns {Object} Mute state {mic: boolean, speakers: boolean, video: boolean}\n   */\n  getMuteState() {\n    return { ...this.muteState };\n  }\n\n  /**\n   * Get active calls\n   * @returns {Object} {audio: Set, video: Set}\n   */\n  getActiveCalls() {\n    // Use unified call state as source of truth\n    return this.callState.getActiveCalls();\n  }\n\n  /**\n   * Get pending incoming calls\n   * @returns {Set} Set of user names with pending incoming calls\n   */\n  getPendingCalls() {\n    // Use unified call state as source of truth\n    return this.callState.getPendingCalls();\n  }\n\n  /**\n   * Get call state for a user\n   * @param {string} user - User name\n   * @returns {Object|null} State object {status: string, audio: boolean, video: boolean} or null\n   */\n  getUserCallState(user) {\n    return this.callState.getUserState(user);\n  }\n\n  /**\n   * Get all call states\n   * @returns {Map} Map of user -> state\n   */\n  getAllCallStates() {\n    return this.callState.getAllStates();\n  }\n\n  /**\n   * Get latency metrics for a user\n   * @param {string} user - User name\n   * @returns {Object|null} Metrics {rtt, packetLoss, jitter} or null\n   */\n  getMetrics(user) {\n    return this.latencyMetrics.get(user) || null;\n  }\n\n  /**\n   * Get all latency metrics\n   * @returns {Map} Map of user -> metrics\n   */\n  getAllMetrics() {\n    return new Map(this.latencyMetrics);\n  }\n\n  /**\n   * Start polling connection statistics\n   * @private\n   */\n  _startStatsPolling() {\n    if (this.statsInterval) {\n      return;\n    }\n    \n    this.statsInterval = setInterval(() => {\n      this._collectConnectionStats();\n    }, this.options.statsPollInterval);\n    \n    // Collect initial stats\n    this._collectConnectionStats();\n  }\n\n  /**\n   * Stop polling connection statistics\n   * @private\n   */\n  _stopStatsPolling() {\n    if (this.statsInterval) {\n      clearInterval(this.statsInterval);\n      this.statsInterval = null;\n    }\n  }\n\n  /**\n   * Collect connection statistics from active calls\n   * @private\n   */\n  async _collectConnectionStats() {\n    if (!this.rtcClient || !this.rtcClient.rtcConnections) {\n      return;\n    }\n    \n    const activeCalls = this.callState.getActiveCalls();\n    const activeCallUsers = new Set([...activeCalls.video, ...activeCalls.audio]);\n    \n    for (const user of activeCallUsers) {\n      const connection = this.rtcClient.rtcConnections[user];\n      if (!connection) {\n        continue;\n      }\n      \n      try {\n        const streamConnection = connection.streamConnection;\n        if (streamConnection && streamConnection.connectionState === 'connected') {\n          const stats = await streamConnection.getStats();\n          \n          let rtt = null;\n          let packetLoss = null;\n          let jitter = null;\n          \n          // Parse stats\n          for (const [id, report] of stats.entries()) {\n            if (report.type === 'candidate-pair' && report.state === 'succeeded') {\n              if (report.currentRoundTripTime !== undefined) {\n                rtt = report.currentRoundTripTime * 1000; // Convert to ms\n              }\n            }\n            \n            if (report.type === 'inbound-rtp' && report.mediaType === 'audio') {\n              if (report.packetsLost !== undefined && report.packetsReceived !== undefined) {\n                const totalPackets = report.packetsLost + report.packetsReceived;\n                if (totalPackets > 0) {\n                  packetLoss = (report.packetsLost / totalPackets) * 100;\n                }\n              }\n              if (report.jitter !== undefined) {\n                jitter = report.jitter * 1000; // Convert to ms\n              }\n            }\n            \n            if (report.type === 'inbound-rtp' && report.mediaType === 'video') {\n              if (report.packetsLost !== undefined && report.packetsReceived !== undefined) {\n                const totalPackets = report.packetsLost + report.packetsReceived;\n                if (totalPackets > 0) {\n                  const videoPacketLoss = (report.packetsLost / totalPackets) * 100;\n                  if (packetLoss === null) {\n                    packetLoss = videoPacketLoss;\n                  }\n                }\n              }\n            }\n          }\n          \n          // Store metrics\n          this.latencyMetrics.set(user, { rtt, packetLoss, jitter });\n          \n          // Emit event\n          this.emit('metricsupdated', { user, metrics: { rtt, packetLoss, jitter } });\n        }\n      } catch (err) {\n        console.warn(`Error collecting stats for ${user}:`, err);\n      }\n    }\n  }\n\n  /**\n   * Cleanup and destroy the manager\n   */\n  destroy() {\n    // Stop stats polling\n    this._stopStatsPolling();\n    \n    // End all calls\n    this.endAllCalls();\n    \n    // Clear all state\n    this.pendingCalls.clear();\n    this.outgoingCalls.clear();\n    this.localStreams.clear();\n    this.latencyMetrics.clear();\n    \n    // Clear unified call state\n    this.callState.clear();\n    \n    // Remove event listeners\n    if (this.rtcClient && this.rtcClient.off) {\n      this.rtcClient.off('call', this._handleIncomingCall);\n      this.rtcClient.off('callconnected', this._handleCallConnected);\n      this.rtcClient.off('callended', this._handleCallEnded);\n    }\n    \n    // Remove all event listeners\n    this.removeAllListeners();\n  }\n}\n\nexport { CallManager };\n\n\n","/**\n * ChatManager - Platform-agnostic chat message and state management\n * \n * This class manages chat-related business logic without any UI dependencies.\n * It tracks messages, active users, and provides a clean API for chat operations.\n * \n * Usage:\n *   import { ChatManager } from './chat-manager.js';\n *   import { EventEmitter } from './event-emitter.js';\n *   \n *   const chatManager = new ChatManager(rtcClient);\n *   chatManager.on('message', ({data, sender, timestamp}) => { ... });\n *   chatManager.on('userconnected', (user) => { ... });\n *   chatManager.on('userdisconnected', (user) => { ... });\n *   \n *   // Send a message\n *   chatManager.sendMessage('Hello!');\n * \n * Features:\n * - Message history tracking\n * - Active user management\n * - User color assignment\n * - Event-driven architecture\n * \n * @module chat-manager\n */\n\nimport { EventEmitter } from '../utils/event-emitter.js';\n\nclass ChatManager extends EventEmitter {\n  /**\n   * Create a new ChatManager instance\n   * @param {Object} rtcClient - RTC client instance (MQTTRTCClient or similar)\n   * @param {Object} options - Configuration options\n   * @param {string} options.primaryUserColor - Color for primary user messages (default: 'lightblue')\n   * @param {Array<string>} options.userColors - Array of colors for other users\n   * @param {ChatUIInterface} options.chatUI - Optional chat UI component implementing ChatUIInterface\n   * @param {NotificationInterface} options.notifications - Optional notification component\n   */\n  constructor(rtcClient, options = {}) {\n    super();\n    \n    this.rtcClient = rtcClient;\n    this.options = {\n      primaryUserColor: options.primaryUserColor || 'lightblue',\n      userColors: options.userColors || [\n        'lightcoral',\n        'lightseagreen',\n        'lightsalmon',\n        'lightgreen',\n      ],\n      ...options\n    };\n    \n    // Optional UI components\n    this.chatUI = options.chatUI || null;\n    this.notifications = options.notifications || null;\n    \n    // State tracking\n    this.history = [];\n    this.activeUsers = [];\n    this.userColors = [...this.options.userColors];\n    this.name = options.name || '?';\n    \n    // Bind methods\n    this._handleChatMessage = this._handleChatMessage.bind(this);\n    this._handleUserConnected = this._handleUserConnected.bind(this);\n    this._handleUserDisconnected = this._handleUserDisconnected.bind(this);\n    \n    // Setup RTC client event listeners if available\n    if (rtcClient) {\n      this._setupRTCEventListeners();\n    }\n  }\n\n  /**\n   * Setup event listeners on RTC client\n   * @private\n   */\n  _setupRTCEventListeners() {\n    if (this.rtcClient.on) {\n      this.rtcClient.on('chat', this._handleChatMessage);\n      \n      // Check if this is a SignedMQTTRTCClient (has validation events)\n      // For SignedMQTTRTCClient, we should wait for validation before adding users\n      // For regular MQTTRTCClient, we can add users immediately on connectedtopeer\n      // Detection: check if validatedPeers property exists (more reliable than constructor.name)\n      const isSignedClient = this.rtcClient && \n                            (this.rtcClient.validatedPeers !== undefined || \n                             (this.rtcClient.on && typeof this.rtcClient.on === 'function'));\n      \n      // Also check if validation event is available by trying to listen\n      // For now, we'll listen to both events and handle appropriately\n      \n      // Always listen to validation event if available (for SignedMQTTRTCClient)\n      // This won't cause issues for regular clients that don't emit it\n      this.rtcClient.on('validation', (peerName, trusted) => {\n        console.log('ChatManager: Received validation event for', peerName, 'trusted:', trusted);\n        // Add user after validation if not already added\n        if (!this.activeUsers.includes(peerName)) {\n          console.log('ChatManager: Adding validated user', peerName);\n          this._handleUserConnected(peerName);\n        } else {\n          console.log('ChatManager: User', peerName, 'already in activeUsers');\n        }\n      });\n      \n      // For connectedtopeer: only add users if NOT using SignedMQTTRTCClient\n      // (SignedMQTTRTCClient will add via validation event instead)\n      this.rtcClient.on('connectedtopeer', (peerName) => {\n        // Only add immediately if this is NOT a signed client\n        // For signed clients, wait for validation event\n        if (!isSignedClient) {\n          console.log('ChatManager: Adding user on connectedtopeer (non-signed client)', peerName);\n          this._handleUserConnected(peerName);\n        } else {\n          console.log('ChatManager: Received connectedtopeer for', peerName, '(waiting for validation)');\n        }\n      });\n      \n      this.rtcClient.on('disconnectedfrompeer', this._handleUserDisconnected);\n    }\n  }\n\n  /**\n   * Handle chat message from RTC client\n   * @param {string} message - Message content\n   * @param {string} sender - Sender name\n   * @private\n   */\n  _handleChatMessage(message, sender) {\n    const timestamp = Date.now();\n    const messageData = {\n      data: message,\n      sender,\n      timestamp\n    };\n    \n    // Add to history\n    this.history.push(messageData);\n    \n    // Emit event - UI should listen to this event, not use direct displayMessage call\n    this.emit('message', messageData);\n    \n    // Don't call chatUI.displayMessage directly - let the event listener handle it\n    // This prevents duplicate message display\n  }\n\n  /**\n   * Handle user connected event\n   * @param {string} user - User name\n   * @private\n   */\n  _handleUserConnected(user) {\n    if (!this.activeUsers.includes(user)) {\n      this.activeUsers.push(user);\n      \n      // Emit event\n      this.emit('userconnected', { user });\n      \n      // Play connection sound if notifications provided\n      if (this.notifications && typeof this.notifications.ping === 'function') {\n        this.notifications.ping().catch(err => {\n          console.debug('Could not play connection ping:', err);\n        });\n      }\n      \n      // Use chatUI if provided\n      if (this.chatUI && typeof this.chatUI.updateActiveUsers === 'function') {\n        this.chatUI.updateActiveUsers([...this.activeUsers]);\n      }\n    }\n  }\n\n  /**\n   * Handle user disconnected event\n   * @param {string} user - User name\n   * @private\n   */\n  _handleUserDisconnected(user) {\n    const index = this.activeUsers.indexOf(user);\n    if (index !== -1) {\n      // Get user's color before removing\n      const oldColor = this.userColors[index % this.userColors.length];\n      \n      // Remove user\n      this.activeUsers.splice(index, 1);\n      \n      // Recycle color\n      this.userColors = this.userColors.filter((color) => color !== oldColor).concat([oldColor]);\n      \n      // Emit event\n      this.emit('userdisconnected', { user });\n      \n      // Use chatUI if provided\n      if (this.chatUI && typeof this.chatUI.updateActiveUsers === 'function') {\n        this.chatUI.updateActiveUsers([...this.activeUsers]);\n      }\n    }\n  }\n\n  /**\n   * Send a chat message\n   * @param {string} message - Message to send (optional if chatUI provides input)\n   */\n  sendMessage(message) {\n    // Get message from chatUI if not provided\n    if (!message && this.chatUI && typeof this.chatUI.getMessageInput === 'function') {\n      message = this.chatUI.getMessageInput();\n    }\n    \n    if (!message) {\n      throw new Error('Message is required');\n    }\n    \n    if (!this.rtcClient) {\n      throw new Error('RTC client not available');\n    }\n    \n    if (this.rtcClient.sendRTCChat) {\n      this.rtcClient.sendRTCChat(message);\n      \n      // Clear input if chatUI provides it\n      if (this.chatUI && typeof this.chatUI.clearMessageInput === 'function') {\n        this.chatUI.clearMessageInput();\n      }\n    } else {\n      throw new Error('RTC client does not support sendRTCChat');\n    }\n  }\n\n  /**\n   * Get user color for a user\n   * @param {string} user - User name\n   * @returns {string} Color string\n   */\n  getUserColor(user) {\n    if (user === this.name + \"( You )\") {\n      return this.options.primaryUserColor;\n    }\n    const index = this.activeUsers.indexOf(user);\n    if (index !== -1) {\n      return this.userColors[index % this.userColors.length];\n    }\n    return this.options.primaryUserColor;\n  }\n\n  /**\n   * Get message history\n   * @returns {Array} Array of message objects\n   */\n  getHistory() {\n    return [...this.history];\n  }\n\n  /**\n   * Set message history\n   * @param {Array} history - Array of message objects\n   */\n  setHistory(history) {\n    this.history = [...history];\n    this.emit('historyupdated', { history: this.history });\n  }\n\n  /**\n   * Get active users\n   * @returns {Array} Array of user names\n   */\n  getActiveUsers() {\n    return [...this.activeUsers];\n  }\n\n  /**\n   * Set user name\n   * @param {string} name - User name\n   */\n  setName(name) {\n    this.name = name;\n    this.emit('namechanged', { name });\n  }\n\n  /**\n   * Get user name\n   * @returns {string} User name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /**\n   * Cleanup and destroy the manager\n   */\n  destroy() {\n    // Clear state\n    this.history = [];\n    this.activeUsers = [];\n    this.userColors = [...this.options.userColors];\n    \n    // Remove event listeners\n    if (this.rtcClient && this.rtcClient.off) {\n      this.rtcClient.off('chat', this._handleChatMessage);\n      this.rtcClient.off('connectedtopeer', this._handleUserConnected);\n      this.rtcClient.off('disconnectedfrompeer', this._handleUserDisconnected);\n    }\n    \n    // Remove all event listeners\n    this.removeAllListeners();\n  }\n}\n\nexport { ChatManager };\n\n\n","/**\n * RTCVideoChat - Core logic for managing video streams and calls\n * \n * This class manages MediaStream objects and call lifecycle without any UI dependencies.\n * It provides callbacks for UI updates, making it easy to integrate with any UI framework.\n * \n * Note: This is a legacy component. New code should use CallManager instead.\n * \n * Usage:\n *   import { RTCVideoChat } from './rtc-video-chat.js';\n *   \n *   const videoChat = new RTCVideoChat(rtcClient, {\n *     setLocalSrc: (stream) => { // update local video element\n *     },\n *     setRemoteSrc: (stream, peerName) => { // update remote video element\n *     },\n *     hide: () => { // hide video UI\n *     },\n *     show: () => { // show video UI\n *     }\n *   });\n * \n * @module rtc-video-chat\n */\n\nclass RTCVideoChat {\n  /**\n   * Create a new RTCVideoChat instance\n   * @param {Object} rtc - RTC client instance\n   * @param {Function} setLocalSrc - Callback to set local video source\n   * @param {Function} setRemoteSrc - Callback to set remote video source\n   * @param {Function} hide - Callback to hide video UI\n   * @param {Function} show - Callback to show video UI\n   */\n  constructor(rtc, setLocalSrc, setRemoteSrc, hide, show) {\n    this.setLocalSrc = setLocalSrc;\n    this.setRemoteSrc = setRemoteSrc;\n\n    this.accept = this.accept.bind(this);\n    this.close = this.close.bind(this);\n    this.closeCall = this.closeCall.bind(this);\n    this.endCall = this.endCall.bind(this);\n    this.setStreamCount = this.setStreamCount.bind(this);\n\n    this._rtc = null;\n    if (rtc) {\n      this.rtc = rtc;\n    }\n    this.pendingNames = [];\n\n    this.localStream = null;\n    this.remoteStreams = {};\n\n    if (hide) {\n      this.hide = hide;\n    }\n    if (show) {\n      this.show = show;\n    }\n  }\n\n  get rtc() {\n    if (!this._rtc) {\n      throw new Error(\"RTC not set\");\n    }\n    return this._rtc;\n  }\n\n  set rtc(rtc) {\n    this._rtc = rtc;\n    rtc.on('callconnected', this.accept);\n    rtc.on('calldisconnected', this.endCall);\n  }\n\n  get name() {\n    return this.rtc.name;\n  }\n\n  call(peerName, promise = 'end') {\n    this.pendingNames.push(peerName);\n    let { start, end } = this.rtc.callUser(peerName);\n    end = end.then(() => {\n      this.close(peerName);\n    });\n    if (promise === 'end') {\n      return end;\n    }\n    return start;\n  }\n\n  endCall(peerName = 'all') {\n    if (peerName === 'all') {\n      for (let name of Object.keys(this.remoteStreams)) {\n        this.endCall(name);\n      }\n    }\n    if (this.remoteStreams[peerName]) {\n      this.rtc.endCallWithUser(peerName);\n    }\n    this.closeCall(peerName);\n  }\n\n  accept(name, streams) {\n    if (streams instanceof Promise) {\n      streams.then(streams => this.accept(name, streams));\n      return;\n    }\n    if (this.pendingNames.includes(name)) {\n      this.pendingNames = this.pendingNames.filter(n => n !== name);\n    }\n\n    if (!this.localStream) {\n      this.localStream = streams.localStream;\n      this.setLocalSrc(this.localStream);\n    }\n    this.setRemoteSrc(streams.remoteStream, name);\n    this.remoteStreams[name] = streams.remoteStream;\n    this.setStreamCount(Object.keys(this.remoteStreams).length);\n  }\n\n  closeCall(peerName) {\n    this.pendingNames = this.pendingNames.filter(name => name !== peerName);\n    this.setRemoteSrc(null, peerName);\n    let rs = this.remoteStreams[peerName];\n    if (rs) {\n      try {\n        rs.getTracks().forEach(track => track.stop());\n      } catch (e) {\n        // Ignore errors when stopping tracks\n      }\n      delete this.remoteStreams[peerName];\n      this.setStreamCount(Object.keys(this.remoteStreams).length);\n    }\n  }\n\n  setStreamCount(count) {\n    if (!count) {\n      if (this.localStream) {\n        try {\n          this.localStream.getTracks().forEach(track => track.stop());\n        } catch (e) {\n          // Ignore errors when stopping tracks\n        }\n        this.setLocalSrc(null);\n        this.localStream = null;\n      }\n      this.setLocalSrc(null);\n      this.localStream = null;\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  hide() {\n    // Override in subclass or via constructor\n  }\n\n  show() {\n    // Override in subclass or via constructor\n  }\n\n  close() {\n    // End all streams\n    this.endCall();\n  }\n}\n\nexport { RTCVideoChat };\n\n\n","/**\n * ChatUIInterface - Interface for chat UI components\n * \n * This interface defines the minimum methods a chat UI component must implement\n * to work with ChatManager. All methods are optional - implement only what you need.\n * \n * Configuration options (via UIConfigInterface):\n * - allowRoomChange: boolean - Whether room changes are allowed (default: true)\n * - showRoom: boolean - Whether to show room name (default: true)\n * - baseTopic: string - Base MQTT topic prefix (default: '')\n * - currentRoom: string - Current room name (default: '')\n * - callModes: 'audio' | 'video' | 'both' - Which call types to expose (default: 'both')\n * - callTimeout: number - Call timeout in milliseconds (default: 15000)\n * - videoDisplayComponent: class - Optional custom video display component\n * - primaryUserColor: string - Color for primary user (default: 'lightblue')\n * - userColors: Array<string> - Colors for other users\n * - ringerVolume: number - Ringtone volume 0-1 (default: 0.3)\n * - notificationVolume: number - Notification volume 0-1 (default: 0.2)\n * \n * @interface ChatUIInterface\n */\nexport class ChatUIInterface {\n  /**\n   * Get configuration for this UI component\n   * @returns {Object} Configuration object\n   */\n  getConfig() {\n    throw new Error('getConfig must be implemented or use UIConfigInterface.getDefaultConfig()');\n  }\n  /**\n   * Display a chat message\n   * @param {Object} messageData - {data: string, sender: string, timestamp: number}\n   */\n  displayMessage(messageData) {\n    throw new Error('displayMessage must be implemented');\n  }\n\n  /**\n   * Update the active users display\n   * @param {Array<string>} users - List of active user names\n   */\n  updateActiveUsers(users) {\n    throw new Error('updateActiveUsers must be implemented');\n  }\n\n  /**\n   * Get the current message input value\n   * @returns {string} Current input value\n   */\n  getMessageInput() {\n    throw new Error('getMessageInput must be implemented');\n  }\n\n  /**\n   * Clear the message input\n   */\n  clearMessageInput() {\n    throw new Error('clearMessageInput must be implemented');\n  }\n\n  /**\n   * Enable or disable the message input\n   * @param {boolean} enabled - Whether input should be enabled\n   */\n  setInputEnabled(enabled) {\n    throw new Error('setInputEnabled must be implemented');\n  }\n}\n\n","/**\n * CallUIInterface - Interface for call UI components\n * \n * This interface defines the minimum methods a call UI component must implement\n * to work with CallManager. All methods are optional - implement only what you need.\n * \n * @interface CallUIInterface\n */\nexport class CallUIInterface {\n  /**\n   * Display an incoming call prompt\n   * @param {string} peerName - Name of the caller\n   * @param {Object} callInfo - {video: boolean, audio: boolean}\n   * @returns {Promise<boolean>} Promise that resolves to true to accept, false to reject\n   */\n  showIncomingCallPrompt(peerName, callInfo) {\n    throw new Error('showIncomingCallPrompt must be implemented');\n  }\n\n  /**\n   * Hide/remove the incoming call prompt\n   * @param {string} peerName - Name of the caller\n   */\n  hideIncomingCallPrompt(peerName) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Display a missed call notification\n   * @param {string} peerName - Name of the peer\n   * @param {string} direction - 'incoming' or 'outgoing'\n   */\n  showMissedCallNotification(peerName, direction) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Display a call declined notification\n   * @param {string} peerName - Name of the peer who declined\n   */\n  showCallDeclinedNotification(peerName) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Update call button states\n   * @param {Object} state - {inCall: boolean, callType: string|null, isOutgoing: boolean}\n   */\n  updateCallButtonStates(state) {\n    // Optional - no-op by default\n  }\n}\n\n","/**\n * StreamDisplayInterface - Interface for audio/video stream display components\n * \n * This interface defines the minimum methods a stream display component must implement\n * to work with CallManager for displaying media streams.\n * \n * @interface StreamDisplayInterface\n */\nexport class StreamDisplayInterface {\n  /**\n   * Set streams for a user\n   * @param {string} user - User name\n   * @param {Object} streams - {localStream: MediaStream, remoteStream: MediaStream}\n   */\n  setStreams(user, streams) {\n    throw new Error('setStreams must be implemented');\n  }\n\n  /**\n   * Remove streams for a user\n   * @param {string} user - User name\n   */\n  removeStreams(user) {\n    throw new Error('removeStreams must be implemented');\n  }\n\n  /**\n   * Show the stream display\n   */\n  show() {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Hide the stream display\n   */\n  hide() {\n    // Optional - no-op by default\n  }\n}\n\n","/**\n * AudioControllerInterface - Interface for audio control components\n * \n * This interface defines methods for controlling audio streams (mute mic, mute speakers).\n * Implement this if you want to provide audio controls.\n * \n * @interface AudioControllerInterface\n */\nexport class AudioControllerInterface {\n  /**\n   * Mute or unmute the microphone\n   * @param {boolean} muted - Whether to mute (true) or unmute (false)\n   * @param {Map<string, MediaStream>} localStreams - Map of user -> local MediaStream\n   */\n  setMicMuted(muted, localStreams) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Mute or unmute the speakers\n   * @param {boolean} muted - Whether to mute (true) or unmute (false)\n   * @param {Map<string, HTMLMediaElement>} remoteAudioElements - Map of user -> audio element\n   */\n  setSpeakersMuted(muted, remoteAudioElements) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Get current mic mute state\n   * @returns {boolean} Whether mic is muted\n   */\n  isMicMuted() {\n    return false;\n  }\n\n  /**\n   * Get current speakers mute state\n   * @returns {boolean} Whether speakers are muted\n   */\n  isSpeakersMuted() {\n    return false;\n  }\n}\n\n","/**\n * VideoControllerInterface - Interface for video control components\n * \n * This interface defines methods for controlling video streams (hide/show video).\n * Implement this if you want to provide video controls.\n * \n * @interface VideoControllerInterface\n */\nexport class VideoControllerInterface {\n  /**\n   * Hide or show video\n   * @param {boolean} hidden - Whether to hide (true) or show (false) video\n   * @param {Map<string, MediaStream>} localStreams - Map of user -> local MediaStream\n   */\n  setVideoHidden(hidden, localStreams) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Get current video hidden state\n   * @returns {boolean} Whether video is hidden\n   */\n  isVideoHidden() {\n    return false;\n  }\n}\n\n","/**\n * VideoInterface - Interface for video element components\n * \n * This interface defines methods for video elements that display MediaStreams.\n * This allows for custom video implementations (e.g., custom HTML elements,\n * React components, Canvas-based rendering, etc.)\n * \n * @interface VideoInterface\n */\nexport class VideoInterface {\n  /**\n   * Set the video source (MediaStream)\n   * @param {MediaStream|null} stream - MediaStream to display, or null to clear\n   */\n  setStream(stream) {\n    throw new Error('setStream must be implemented');\n  }\n\n  /**\n   * Get the current video source\n   * @returns {MediaStream|null} Current stream or null\n   */\n  getStream() {\n    throw new Error('getStream must be implemented');\n  }\n\n  /**\n   * Show the video element\n   */\n  show() {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Hide the video element\n   */\n  hide() {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Set muted state\n   * @param {boolean} muted - Whether video should be muted\n   */\n  setMuted(muted) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Get muted state\n   * @returns {boolean} Whether video is muted\n   */\n  isMuted() {\n    return false;\n  }\n\n  /**\n   * Set autoplay\n   * @param {boolean} autoplay - Whether video should autoplay\n   */\n  setAutoplay(autoplay) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Set playsinline (for mobile)\n   * @param {boolean} playsinline - Whether video should play inline\n   */\n  setPlaysinline(playsinline) {\n    // Optional - no-op by default\n  }\n\n  /**\n   * Get the underlying element (for DOM manipulation if needed)\n   * @returns {HTMLElement|null} The underlying element\n   */\n  getElement() {\n    return null;\n  }\n\n  /**\n   * Cleanup and destroy the video element\n   */\n  destroy() {\n    // Optional - no-op by default\n  }\n}\n\n","/**\n * RingerInterface - Interface for ringtone/audio notification components\n * \n * This interface defines methods for playing ringtones (e.g., for incoming calls).\n * Implement this if you want to provide custom ringtone behavior.\n * \n * @interface RingerInterface\n */\nexport class RingerInterface {\n  /**\n   * Start playing the ringtone\n   * @returns {Promise} Promise that resolves when ringtone starts\n   */\n  start() {\n    throw new Error('start must be implemented');\n  }\n\n  /**\n   * Stop playing the ringtone\n   */\n  stop() {\n    throw new Error('stop must be implemented');\n  }\n\n  /**\n   * Check if ringtone is currently playing\n   * @returns {boolean} Whether ringtone is playing\n   */\n  isRinging() {\n    return false;\n  }\n}\n\n","/**\n * NotificationInterface - Interface for notification components\n * \n * This interface defines methods for showing notifications (e.g., connection sounds, alerts).\n * Implement this if you want to provide custom notification behavior.\n * \n * @interface NotificationInterface\n */\nexport class NotificationInterface {\n  /**\n   * Play a ping/connection sound\n   * @returns {Promise} Promise that resolves when sound plays\n   */\n  ping() {\n    // Optional - no-op by default\n    return Promise.resolve();\n  }\n\n  /**\n   * Play a beep sound\n   * @returns {Promise} Promise that resolves when sound plays\n   */\n  beep() {\n    // Optional - no-op by default\n    return Promise.resolve();\n  }\n\n  /**\n   * Show a visual notification (e.g., browser notification)\n   * @param {string} title - Notification title\n   * @param {Object} options - Notification options {body, icon, etc.}\n   * @returns {Promise} Promise that resolves when notification is shown\n   */\n  showNotification(title, options = {}) {\n    // Optional - no-op by default\n    return Promise.resolve();\n  }\n}\n\n","/**\n * StorageInterface - Interface for storage adapters\n * \n * This interface defines methods for persistent storage (e.g., localStorage, IndexedDB).\n * Note: This is already implemented as StorageAdapter, but included here for completeness.\n * \n * @interface StorageInterface\n */\nexport class StorageInterface {\n  /**\n   * Get an item from storage\n   * @param {string} key - Storage key\n   * @returns {string|null} Stored value or null\n   */\n  getItem(key) {\n    throw new Error('getItem must be implemented');\n  }\n\n  /**\n   * Set an item in storage\n   * @param {string} key - Storage key\n   * @param {string} value - Value to store\n   */\n  setItem(key, value) {\n    throw new Error('setItem must be implemented');\n  }\n\n  /**\n   * Remove an item from storage\n   * @param {string} key - Storage key\n   */\n  removeItem(key) {\n    throw new Error('removeItem must be implemented');\n  }\n}\n\n","/**\n * UIConfigInterface - Configuration options for UI components\n * \n * This interface defines standard configuration options that all UI implementations\n * should support. This ensures consistency across different UI implementations.\n * \n * @interface UIConfigInterface\n */\nexport class UIConfigInterface {\n  /**\n   * Get the default configuration\n   * @returns {Object} Default configuration object\n   */\n  static getDefaultConfig() {\n    return {\n      // Room/Name configuration\n      allowRoomChange: true,\n      showRoom: true,\n      baseTopic: '',\n      currentRoom: '',\n      \n      // Call configuration\n      callModes: 'both', // 'audio' | 'video' | 'both'\n      callTimeout: 15000, // milliseconds\n      \n      // Component configuration\n      videoDisplayComponent: null, // Optional custom video display component class\n      \n      // User configuration\n      primaryUserColor: 'lightblue',\n      userColors: [\n        'lightcoral',\n        'lightseagreen',\n        'lightsalmon',\n        'lightgreen',\n      ],\n      \n      // Audio configuration\n      ringerVolume: 0.3,\n      notificationVolume: 0.2,\n    };\n  }\n\n  /**\n   * Validate configuration\n   * @param {Object} config - Configuration to validate\n   * @returns {Object} Validated configuration with defaults applied\n   */\n  static validateConfig(config = {}) {\n    const defaults = this.getDefaultConfig();\n    const validated = { ...defaults };\n    \n    // Validate and apply provided config\n    if (typeof config.allowRoomChange === 'boolean') {\n      validated.allowRoomChange = config.allowRoomChange;\n    }\n    \n    if (typeof config.showRoom === 'boolean') {\n      validated.showRoom = config.showRoom;\n    }\n    \n    if (typeof config.baseTopic === 'string') {\n      validated.baseTopic = config.baseTopic;\n    }\n    \n    if (typeof config.currentRoom === 'string') {\n      validated.currentRoom = config.currentRoom;\n    }\n    \n    if (['audio', 'video', 'both'].includes(config.callModes)) {\n      validated.callModes = config.callModes;\n    }\n    \n    if (typeof config.callTimeout === 'number' && config.callTimeout > 0) {\n      validated.callTimeout = config.callTimeout;\n    }\n    \n    if (config.videoDisplayComponent !== undefined) {\n      validated.videoDisplayComponent = config.videoDisplayComponent;\n    }\n    \n    if (typeof config.primaryUserColor === 'string') {\n      validated.primaryUserColor = config.primaryUserColor;\n    }\n    \n    if (Array.isArray(config.userColors)) {\n      validated.userColors = config.userColors;\n    }\n    \n    if (typeof config.ringerVolume === 'number' && config.ringerVolume >= 0 && config.ringerVolume <= 1) {\n      validated.ringerVolume = config.ringerVolume;\n    }\n    \n    if (typeof config.notificationVolume === 'number' && config.notificationVolume >= 0 && config.notificationVolume <= 1) {\n      validated.notificationVolume = config.notificationVolume;\n    }\n    \n    return validated;\n  }\n}\n\n","/**\n * PluginAdapter - Base class for creating plugin adapters\n * \n * This class provides a convenient way to create adapters that implement\n * multiple interfaces. It provides default no-op implementations for all\n * interface methods, so you only need to override what you need.\n * \n * Usage:\n *   import { PluginAdapter, UIConfigInterface } from './core/index.js';\n *   \n *   class MyChatAdapter extends PluginAdapter {\n *     constructor(config = {}) {\n *       super();\n *       this.config = UIConfigInterface.validateConfig(config);\n *     }\n *     \n *     getConfig() {\n *       return this.config;\n *     }\n *     \n *     displayMessage({data, sender, timestamp}) {\n *       // Implement only what you need\n *     }\n *   }\n * \n * @class PluginAdapter\n */\nimport { UIConfigInterface } from './interfaces/ui-config-interface.js';\n\nexport class PluginAdapter {\n  constructor(config = {}) {\n    // Store validated config\n    this.config = UIConfigInterface.validateConfig(config);\n  }\n  \n  /**\n   * Get configuration for this adapter\n   * @returns {Object} Configuration object\n   */\n  getConfig() {\n    return this.config;\n  }\n  // ChatUIInterface methods\n  displayMessage(messageData) {}\n  updateActiveUsers(users) {}\n  getMessageInput() { return ''; }\n  clearMessageInput() {}\n  setInputEnabled(enabled) {}\n  \n  // CallUIInterface methods\n  showIncomingCallPrompt(peerName, callInfo) { return Promise.resolve(true); }\n  hideIncomingCallPrompt(peerName) {}\n  showMissedCallNotification(peerName, direction) {}\n  showCallDeclinedNotification(peerName) {}\n  updateCallButtonStates(state) {}\n  \n  // StreamDisplayInterface methods\n  setStreams(user, streams) {}\n  removeStreams(user) {}\n  show() {}\n  hide() {}\n  \n  // AudioControllerInterface methods\n  setMicMuted(muted, localStreams) {}\n  setSpeakersMuted(muted, remoteAudioElements) {}\n  isMicMuted() { return false; }\n  isSpeakersMuted() { return false; }\n  \n  // VideoControllerInterface methods\n  setVideoHidden(hidden, localStreams) {}\n  isVideoHidden() { return false; }\n  \n  // VideoInterface methods\n  setStream(stream) {}\n  getStream() { return null; }\n  show() {}\n  hide() {}\n  setMuted(muted) {}\n  isMuted() { return false; }\n  setAutoplay(autoplay) {}\n  setPlaysinline(playsinline) {}\n  getElement() { return null; }\n  destroy() {}\n  \n  // RingerInterface methods\n  start() {}\n  stop() {}\n  isRinging() { return false; }\n  \n  // NotificationInterface methods\n  ping() { return Promise.resolve(); }\n  beep() { return Promise.resolve(); }\n  showNotification(title, options = {}) { return Promise.resolve(); }\n  \n  // StorageInterface methods\n  getItem(key) { return null; }\n  setItem(key, value) {}\n  removeItem(key) {}\n}\n\n","/**\n * StateManager - Simple state management for UI components\n * \n * Manages mutable state separate from configuration.\n * Configuration is immutable, state can change.\n * \n * Usage:\n *   import { StateManager } from './state-manager.js';\n *   \n *   const state = new StateManager({\n *     currentRoom: '',\n *     name: '?'\n *   });\n *   \n *   state.set('currentRoom', 'newRoom');\n *   const room = state.get('currentRoom');\n *   state.on('change', (key, value) => { ... });\n * \n * @class StateManager\n */\n\nimport { EventEmitter } from '../utils/event-emitter.js';\n\nclass StateManager extends EventEmitter {\n  /**\n   * Create a new StateManager instance\n   * @param {Object} initialState - Initial state values\n   */\n  constructor(initialState = {}) {\n    super();\n    this._state = { ...initialState };\n  }\n\n  /**\n   * Get a state value\n   * @param {string} key - State key\n   * @returns {*} State value\n   */\n  get(key) {\n    return this._state[key];\n  }\n\n  /**\n   * Set a state value\n   * @param {string} key - State key\n   * @param {*} value - State value\n   */\n  set(key, value) {\n    const oldValue = this._state[key];\n    if (oldValue !== value) {\n      this._state[key] = value;\n      this.emit('change', { key, value, oldValue });\n      this.emit(`change:${key}`, { value, oldValue });\n    }\n  }\n\n  /**\n   * Get all state\n   * @returns {Object} Copy of all state\n   */\n  getAll() {\n    return { ...this._state };\n  }\n\n  /**\n   * Set multiple state values at once\n   * @param {Object} updates - Object with key-value pairs\n   */\n  setMultiple(updates) {\n    Object.keys(updates).forEach(key => {\n      this.set(key, updates[key]);\n    });\n  }\n\n  /**\n   * Reset state to initial values\n   * @param {Object} newInitialState - Optional new initial state\n   */\n  reset(newInitialState = null) {\n    if (newInitialState) {\n      this._state = { ...newInitialState };\n    } else {\n      // Reset to constructor initial state (would need to store it)\n      this._state = {};\n    }\n    this.emit('reset', { state: this.getAll() });\n  }\n}\n\nexport { StateManager };\n\n"],"names":[],"mappings":";;;EAAA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACO,SAAS,WAAW,GAAG;EAC9B,EAAE,OAAO;EACT;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,IAAI,EAAE,IAAI;EACd;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,QAAQ,EAAE,EAAE;EAChB;EACA;EACA;EACA;EACA;EACA,IAAI,IAAI,EAAE;EACV;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,MAAM,EAAE,4CAA4C;EAC1D;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,QAAQ,EAAE,IAAI;EACpB;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,QAAQ,EAAE,IAAI;EACpB;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,QAAQ,EAAE,IAAI;EACpB;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,eAAe,EAAE,IAAI;EAC3B;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,cAAc,EAAE;EACtB,KAAK;EACL;EACA;EACA;EACA;EACA;EACA,IAAI,MAAM,EAAE;EACZ;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,UAAU,EAAE;EAClB,QAAQ,EAAE,IAAI,EAAE,8BAA8B,EAAE;EAChD,QAAQ,EAAE,IAAI,EAAE,+BAA+B,EAAE;EACjD,QAAQ,EAAE,IAAI,EAAE,+BAA+B,EAAE;EACjD,QAAQ,EAAE,IAAI,EAAE,+BAA+B,EAAE;EACjD,QAAQ,EAAE,IAAI,EAAE,+BAA+B;EAC/C,OAAO;EACP;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,kBAAkB,EAAE,KAAK;EAC/B;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,YAAY,EAAE,UAAU;EAC9B;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,aAAa,EAAE;EACrB,KAAK;EACL;EACA;EACA;EACA;EACA;EACA,IAAI,KAAK,EAAE;EACX;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,IAAI,EAAE,SAAS;EACrB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,IAAI,EAAE,IAAI;EAChB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,SAAS,EAAE;EACjB,KAAK;EACL;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,OAAO,EAAE,IAAI;EACjB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,MAAM,EAAE,IAAI;EAChB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,IAAI,WAAW,EAAE,IAAI;EACrB;EACA;EACA;EACA;EACA;EACA,IAAI,WAAW,EAAE;EACjB;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,OAAO,EAAE,IAAI;EACnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,OAAO,EAAE,WAAW;EAC1B;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,SAAS,EAAE;EACjB,KAAK;EACL;EACA;EACA;EACA;EACA;EACA,IAAI,UAAU,EAAE;EAChB;EACA;EACA;EACA;EACA;EACA,MAAM,WAAW,EAAE,IAAI;EACvB;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,aAAa,EAAE,IAAI;EACzB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,oBAAoB,EAAE,QAAQ;EACpC;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,cAAc,EAAE,IAAI;EAC1B;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,iBAAiB,EAAE,KAAK;EAC9B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,qBAAqB,EAAE;EAC7B,KAAK;EACL;EACA;EACA;EACA;EACA;EACA,IAAI,OAAO,EAAE;EACb;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,OAAO,EAAE,IAAI;EACnB;EACA;EACA;EACA;EACA;EACA;EACA;EACA,MAAM,SAAS,EAAE;EACjB,KAAK;EACL;EACA;EACA;EACA;EACA;EACA,IAAI,IAAI,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"}